<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/favicon.ico"><title>【Q090】webpack 5 新特性 | 每日一题</title><meta name="description" content="每天五分钟，半年大厂中">
    <link rel="modulepreload" href="/assets/app.2a439a8a.js"><link rel="modulepreload" href="/assets/90.html.d82ca3bf.js"><link rel="modulepreload" href="/assets/90.html.c6d19113.js"><link rel="prefetch" href="/assets/index.html.33a0dd68.js"><link rel="prefetch" href="/assets/index.html.b925f0c0.js"><link rel="prefetch" href="/assets/index.html.c56635d4.js"><link rel="prefetch" href="/assets/index.html.06d6c73b.js"><link rel="prefetch" href="/assets/index.html.706f0645.js"><link rel="prefetch" href="/assets/1.html.27edf552.js"><link rel="prefetch" href="/assets/10.html.7383416f.js"><link rel="prefetch" href="/assets/11.html.c6fc238a.js"><link rel="prefetch" href="/assets/12.html.74f259c4.js"><link rel="prefetch" href="/assets/13.html.3c5b4a91.js"><link rel="prefetch" href="/assets/14.html.3115b7e0.js"><link rel="prefetch" href="/assets/15.html.7256db36.js"><link rel="prefetch" href="/assets/16.html.cafc53b2.js"><link rel="prefetch" href="/assets/17.html.aa372369.js"><link rel="prefetch" href="/assets/18.html.0474b67f.js"><link rel="prefetch" href="/assets/19.html.f89775a7.js"><link rel="prefetch" href="/assets/2.html.3e619de4.js"><link rel="prefetch" href="/assets/20.html.81f621f7.js"><link rel="prefetch" href="/assets/21.html.0f46e2af.js"><link rel="prefetch" href="/assets/22.html.a9e4b2a2.js"><link rel="prefetch" href="/assets/23.html.b6594ac1.js"><link rel="prefetch" href="/assets/24.html.2d52bcb9.js"><link rel="prefetch" href="/assets/25.html.7ce4e89d.js"><link rel="prefetch" href="/assets/26.html.b853d8ff.js"><link rel="prefetch" href="/assets/27.html.fc0a4b95.js"><link rel="prefetch" href="/assets/28.html.2df1c443.js"><link rel="prefetch" href="/assets/29.html.3f18c822.js"><link rel="prefetch" href="/assets/3.html.42fb625c.js"><link rel="prefetch" href="/assets/30.html.4de25935.js"><link rel="prefetch" href="/assets/31.html.a9e758c5.js"><link rel="prefetch" href="/assets/32.html.88daf987.js"><link rel="prefetch" href="/assets/33.html.a511cf50.js"><link rel="prefetch" href="/assets/34.html.8692bacc.js"><link rel="prefetch" href="/assets/35.html.13a8eff5.js"><link rel="prefetch" href="/assets/36.html.15364126.js"><link rel="prefetch" href="/assets/37.html.964a0e46.js"><link rel="prefetch" href="/assets/38.html.1a2561fb.js"><link rel="prefetch" href="/assets/39.html.e21e79f6.js"><link rel="prefetch" href="/assets/4.html.fa57b958.js"><link rel="prefetch" href="/assets/40.html.7dac2602.js"><link rel="prefetch" href="/assets/41.html.aa812a6e.js"><link rel="prefetch" href="/assets/42.html.08180a44.js"><link rel="prefetch" href="/assets/43.html.fa761dc5.js"><link rel="prefetch" href="/assets/44.html.b3c5d074.js"><link rel="prefetch" href="/assets/45.html.cac5896d.js"><link rel="prefetch" href="/assets/46.html.7542bd94.js"><link rel="prefetch" href="/assets/47.html.f7cd93c7.js"><link rel="prefetch" href="/assets/48.html.8cd4ba64.js"><link rel="prefetch" href="/assets/49.html.ac96906e.js"><link rel="prefetch" href="/assets/5.html.a03396ed.js"><link rel="prefetch" href="/assets/50.html.a283a0f5.js"><link rel="prefetch" href="/assets/51.html.48530cd8.js"><link rel="prefetch" href="/assets/6.html.d1d3aa70.js"><link rel="prefetch" href="/assets/7.html.c1ee96cf.js"><link rel="prefetch" href="/assets/8.html.e3b8b9c4.js"><link rel="prefetch" href="/assets/9.html.d28ee178.js"><link rel="prefetch" href="/assets/52.html.b7a9e291.js"><link rel="prefetch" href="/assets/53.html.90643b9a.js"><link rel="prefetch" href="/assets/54.html.c3d3670d.js"><link rel="prefetch" href="/assets/55.html.acfba55a.js"><link rel="prefetch" href="/assets/56.html.c19635a4.js"><link rel="prefetch" href="/assets/57.html.fc2eced5.js"><link rel="prefetch" href="/assets/58.html.b9029f80.js"><link rel="prefetch" href="/assets/59.html.3b974605.js"><link rel="prefetch" href="/assets/60.html.94914ebc.js"><link rel="prefetch" href="/assets/61.html.0c93953c.js"><link rel="prefetch" href="/assets/62.html.e1ec2c43.js"><link rel="prefetch" href="/assets/63.html.bf7a8245.js"><link rel="prefetch" href="/assets/64.html.0f9c7fc7.js"><link rel="prefetch" href="/assets/65.html.4819adeb.js"><link rel="prefetch" href="/assets/66.html.72630863.js"><link rel="prefetch" href="/assets/67.html.28fb3ee7.js"><link rel="prefetch" href="/assets/68.html.81d8dcc0.js"><link rel="prefetch" href="/assets/69.html.81853ff3.js"><link rel="prefetch" href="/assets/70.html.feecc60d.js"><link rel="prefetch" href="/assets/71.html.670e8d35.js"><link rel="prefetch" href="/assets/72.html.e60ea3ff.js"><link rel="prefetch" href="/assets/73.html.6b233540.js"><link rel="prefetch" href="/assets/74.html.d6352fc7.js"><link rel="prefetch" href="/assets/75.html.d1aab697.js"><link rel="prefetch" href="/assets/76.html.ae78d6a4.js"><link rel="prefetch" href="/assets/77.html.57674b5d.js"><link rel="prefetch" href="/assets/78.html.1cb45461.js"><link rel="prefetch" href="/assets/79.html.352d0f4e.js"><link rel="prefetch" href="/assets/80.html.7235d369.js"><link rel="prefetch" href="/assets/81.html.9d32083d.js"><link rel="prefetch" href="/assets/82.html.5eae198a.js"><link rel="prefetch" href="/assets/83.html.99541ec2.js"><link rel="prefetch" href="/assets/84.html.5bfc7fdc.js"><link rel="prefetch" href="/assets/85.html.0877396f.js"><link rel="prefetch" href="/assets/86.html.093104fc.js"><link rel="prefetch" href="/assets/87.html.68f64f47.js"><link rel="prefetch" href="/assets/88.html.6f80687f.js"><link rel="prefetch" href="/assets/100.html.4ac97423.js"><link rel="prefetch" href="/assets/101.html.fb4ea29a.js"><link rel="prefetch" href="/assets/102.html.7b897450.js"><link rel="prefetch" href="/assets/89.html.5b477b75.js"><link rel="prefetch" href="/assets/91.html.57f18e44.js"><link rel="prefetch" href="/assets/92.html.e1b3ff3b.js"><link rel="prefetch" href="/assets/93.html.3b211a50.js"><link rel="prefetch" href="/assets/94.html.fc2c94f2.js"><link rel="prefetch" href="/assets/95.html.0a01eb0a.js"><link rel="prefetch" href="/assets/96.html.4d609ab5.js"><link rel="prefetch" href="/assets/97.html.742af4c1.js"><link rel="prefetch" href="/assets/98.html.2e63891f.js"><link rel="prefetch" href="/assets/99.html.ead09ca8.js"><link rel="prefetch" href="/assets/103.html.c06992ef.js"><link rel="prefetch" href="/assets/104.html.b6e07b76.js"><link rel="prefetch" href="/assets/105.html.866f0f1f.js"><link rel="prefetch" href="/assets/106.html.71543481.js"><link rel="prefetch" href="/assets/107.html.de42886d.js"><link rel="prefetch" href="/assets/108.html.e7874e60.js"><link rel="prefetch" href="/assets/109.html.75267470.js"><link rel="prefetch" href="/assets/110.html.7b6b6d62.js"><link rel="prefetch" href="/assets/111.html.d4d222b3.js"><link rel="prefetch" href="/assets/112.html.8f70fea6.js"><link rel="prefetch" href="/assets/113.html.674dc1ef.js"><link rel="prefetch" href="/assets/114.html.0d035239.js"><link rel="prefetch" href="/assets/115.html.2ad11070.js"><link rel="prefetch" href="/assets/116.html.d60d53a5.js"><link rel="prefetch" href="/assets/117.html.2fb46f76.js"><link rel="prefetch" href="/assets/118.html.4ca23aad.js"><link rel="prefetch" href="/assets/119.html.98bc84f3.js"><link rel="prefetch" href="/assets/120.html.2f8b0d2b.js"><link rel="prefetch" href="/assets/121.html.905d04ee.js"><link rel="prefetch" href="/assets/122.html.47c18d11.js"><link rel="prefetch" href="/assets/123.html.490e3ccc.js"><link rel="prefetch" href="/assets/124.html.04527473.js"><link rel="prefetch" href="/assets/125.html.a66d1390.js"><link rel="prefetch" href="/assets/126.html.4a318acd.js"><link rel="prefetch" href="/assets/127.html.4c313fe0.js"><link rel="prefetch" href="/assets/128.html.a4801239.js"><link rel="prefetch" href="/assets/129.html.2c6977df.js"><link rel="prefetch" href="/assets/130.html.81fa94ab.js"><link rel="prefetch" href="/assets/131.html.25394b19.js"><link rel="prefetch" href="/assets/132.html.a5197e99.js"><link rel="prefetch" href="/assets/133.html.e84c7381.js"><link rel="prefetch" href="/assets/134.html.1fd5e16a.js"><link rel="prefetch" href="/assets/135.html.535582dc.js"><link rel="prefetch" href="/assets/136.html.68c8208e.js"><link rel="prefetch" href="/assets/137.html.01590b83.js"><link rel="prefetch" href="/assets/138.html.0671ac5e.js"><link rel="prefetch" href="/assets/139.html.28c6d294.js"><link rel="prefetch" href="/assets/140.html.d04802fa.js"><link rel="prefetch" href="/assets/141.html.59508af4.js"><link rel="prefetch" href="/assets/142.html.ef4e1cda.js"><link rel="prefetch" href="/assets/143.html.8b178ffb.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.681fc8fe.js"><link rel="prefetch" href="/assets/index.html.6fa8ab8c.js"><link rel="prefetch" href="/assets/index.html.8d5f3ff8.js"><link rel="prefetch" href="/assets/index.html.aa4b0f62.js"><link rel="prefetch" href="/assets/index.html.15320177.js"><link rel="prefetch" href="/assets/1.html.4c0fca60.js"><link rel="prefetch" href="/assets/10.html.e02cce84.js"><link rel="prefetch" href="/assets/11.html.86a31a17.js"><link rel="prefetch" href="/assets/12.html.8aca73ff.js"><link rel="prefetch" href="/assets/13.html.5e365985.js"><link rel="prefetch" href="/assets/14.html.0ede8e45.js"><link rel="prefetch" href="/assets/15.html.4d81bcdd.js"><link rel="prefetch" href="/assets/16.html.921a3795.js"><link rel="prefetch" href="/assets/17.html.9e9b3ec4.js"><link rel="prefetch" href="/assets/18.html.4908f3f0.js"><link rel="prefetch" href="/assets/19.html.8906d1ff.js"><link rel="prefetch" href="/assets/2.html.dfe628a0.js"><link rel="prefetch" href="/assets/20.html.c66d654b.js"><link rel="prefetch" href="/assets/21.html.9560d984.js"><link rel="prefetch" href="/assets/22.html.c3375b8d.js"><link rel="prefetch" href="/assets/23.html.edb89c74.js"><link rel="prefetch" href="/assets/24.html.c5a35abc.js"><link rel="prefetch" href="/assets/25.html.770665a6.js"><link rel="prefetch" href="/assets/26.html.ae83bc6b.js"><link rel="prefetch" href="/assets/27.html.45e64add.js"><link rel="prefetch" href="/assets/28.html.4cfe742b.js"><link rel="prefetch" href="/assets/29.html.b77e0ffa.js"><link rel="prefetch" href="/assets/3.html.0a37bbda.js"><link rel="prefetch" href="/assets/30.html.632dd61e.js"><link rel="prefetch" href="/assets/31.html.b6f5ccfc.js"><link rel="prefetch" href="/assets/32.html.5c7aa9df.js"><link rel="prefetch" href="/assets/33.html.2a6f2aa0.js"><link rel="prefetch" href="/assets/34.html.78a46ce0.js"><link rel="prefetch" href="/assets/35.html.66e7cc06.js"><link rel="prefetch" href="/assets/36.html.f5ecffa3.js"><link rel="prefetch" href="/assets/37.html.2f277b1b.js"><link rel="prefetch" href="/assets/38.html.2c51b7e7.js"><link rel="prefetch" href="/assets/39.html.5eabf1f9.js"><link rel="prefetch" href="/assets/4.html.dc9204c2.js"><link rel="prefetch" href="/assets/40.html.7f502342.js"><link rel="prefetch" href="/assets/41.html.a329b462.js"><link rel="prefetch" href="/assets/42.html.240e24a2.js"><link rel="prefetch" href="/assets/43.html.3325681a.js"><link rel="prefetch" href="/assets/44.html.89701cfc.js"><link rel="prefetch" href="/assets/45.html.8192e416.js"><link rel="prefetch" href="/assets/46.html.b3b445c8.js"><link rel="prefetch" href="/assets/47.html.e0c01ac5.js"><link rel="prefetch" href="/assets/48.html.48db9ee4.js"><link rel="prefetch" href="/assets/49.html.30be2bc4.js"><link rel="prefetch" href="/assets/5.html.25573f23.js"><link rel="prefetch" href="/assets/50.html.ed66ad55.js"><link rel="prefetch" href="/assets/51.html.d331d253.js"><link rel="prefetch" href="/assets/6.html.475aa4a9.js"><link rel="prefetch" href="/assets/7.html.b0f8eb80.js"><link rel="prefetch" href="/assets/8.html.1e4261d4.js"><link rel="prefetch" href="/assets/9.html.abedecbf.js"><link rel="prefetch" href="/assets/52.html.7255ccca.js"><link rel="prefetch" href="/assets/53.html.c8311aab.js"><link rel="prefetch" href="/assets/54.html.6a9a168d.js"><link rel="prefetch" href="/assets/55.html.1f7c265f.js"><link rel="prefetch" href="/assets/56.html.0249b7bd.js"><link rel="prefetch" href="/assets/57.html.2861e79b.js"><link rel="prefetch" href="/assets/58.html.191166b5.js"><link rel="prefetch" href="/assets/59.html.b3556d81.js"><link rel="prefetch" href="/assets/60.html.c3b10916.js"><link rel="prefetch" href="/assets/61.html.cc6c74c1.js"><link rel="prefetch" href="/assets/62.html.3903e498.js"><link rel="prefetch" href="/assets/63.html.c2b1ddd6.js"><link rel="prefetch" href="/assets/64.html.53e03f91.js"><link rel="prefetch" href="/assets/65.html.1cab6937.js"><link rel="prefetch" href="/assets/66.html.2ae15a6e.js"><link rel="prefetch" href="/assets/67.html.a935be4c.js"><link rel="prefetch" href="/assets/68.html.0db9fe79.js"><link rel="prefetch" href="/assets/69.html.ce04698f.js"><link rel="prefetch" href="/assets/70.html.ed1f6b94.js"><link rel="prefetch" href="/assets/71.html.d282f838.js"><link rel="prefetch" href="/assets/72.html.9fd08a5c.js"><link rel="prefetch" href="/assets/73.html.71303c99.js"><link rel="prefetch" href="/assets/74.html.b917eb68.js"><link rel="prefetch" href="/assets/75.html.e67993e8.js"><link rel="prefetch" href="/assets/76.html.8aab3f55.js"><link rel="prefetch" href="/assets/77.html.50c38304.js"><link rel="prefetch" href="/assets/78.html.1c723006.js"><link rel="prefetch" href="/assets/79.html.b4c81d9f.js"><link rel="prefetch" href="/assets/80.html.5b4ffc97.js"><link rel="prefetch" href="/assets/81.html.1d2adbd2.js"><link rel="prefetch" href="/assets/82.html.e434a2f9.js"><link rel="prefetch" href="/assets/83.html.c82691a9.js"><link rel="prefetch" href="/assets/84.html.9cb88a47.js"><link rel="prefetch" href="/assets/85.html.740b3123.js"><link rel="prefetch" href="/assets/86.html.dbf629cb.js"><link rel="prefetch" href="/assets/87.html.7bf52b15.js"><link rel="prefetch" href="/assets/88.html.651b5d27.js"><link rel="prefetch" href="/assets/100.html.ff134673.js"><link rel="prefetch" href="/assets/101.html.af312988.js"><link rel="prefetch" href="/assets/102.html.c84337a2.js"><link rel="prefetch" href="/assets/89.html.a4aca3d8.js"><link rel="prefetch" href="/assets/91.html.7a2a749f.js"><link rel="prefetch" href="/assets/92.html.9dd0ce16.js"><link rel="prefetch" href="/assets/93.html.c1f14bbc.js"><link rel="prefetch" href="/assets/94.html.ca59bc1f.js"><link rel="prefetch" href="/assets/95.html.95472b81.js"><link rel="prefetch" href="/assets/96.html.5f780378.js"><link rel="prefetch" href="/assets/97.html.03eb13af.js"><link rel="prefetch" href="/assets/98.html.eb98f367.js"><link rel="prefetch" href="/assets/99.html.e16a6723.js"><link rel="prefetch" href="/assets/103.html.8025352a.js"><link rel="prefetch" href="/assets/104.html.d59ac089.js"><link rel="prefetch" href="/assets/105.html.5ad3bdf0.js"><link rel="prefetch" href="/assets/106.html.41f2e13c.js"><link rel="prefetch" href="/assets/107.html.835dce17.js"><link rel="prefetch" href="/assets/108.html.2133dceb.js"><link rel="prefetch" href="/assets/109.html.9489f03a.js"><link rel="prefetch" href="/assets/110.html.c94c7102.js"><link rel="prefetch" href="/assets/111.html.c71a82da.js"><link rel="prefetch" href="/assets/112.html.2a777eaf.js"><link rel="prefetch" href="/assets/113.html.dd00f2e4.js"><link rel="prefetch" href="/assets/114.html.e638b632.js"><link rel="prefetch" href="/assets/115.html.861d5084.js"><link rel="prefetch" href="/assets/116.html.1714f751.js"><link rel="prefetch" href="/assets/117.html.924f065a.js"><link rel="prefetch" href="/assets/118.html.af26f91a.js"><link rel="prefetch" href="/assets/119.html.a050c713.js"><link rel="prefetch" href="/assets/120.html.d662b8ef.js"><link rel="prefetch" href="/assets/121.html.15a694af.js"><link rel="prefetch" href="/assets/122.html.2debd177.js"><link rel="prefetch" href="/assets/123.html.210a181d.js"><link rel="prefetch" href="/assets/124.html.141bd2dd.js"><link rel="prefetch" href="/assets/125.html.8f31107a.js"><link rel="prefetch" href="/assets/126.html.100e7740.js"><link rel="prefetch" href="/assets/127.html.375467ef.js"><link rel="prefetch" href="/assets/128.html.e0671271.js"><link rel="prefetch" href="/assets/129.html.6c6bfa58.js"><link rel="prefetch" href="/assets/130.html.e505df36.js"><link rel="prefetch" href="/assets/131.html.8d700c97.js"><link rel="prefetch" href="/assets/132.html.faddc01f.js"><link rel="prefetch" href="/assets/133.html.88e3c00d.js"><link rel="prefetch" href="/assets/134.html.baee83bd.js"><link rel="prefetch" href="/assets/135.html.9ea35886.js"><link rel="prefetch" href="/assets/136.html.cf991682.js"><link rel="prefetch" href="/assets/137.html.c3208264.js"><link rel="prefetch" href="/assets/138.html.8f9d8cd4.js"><link rel="prefetch" href="/assets/139.html.ac25d7f7.js"><link rel="prefetch" href="/assets/140.html.81522b10.js"><link rel="prefetch" href="/assets/141.html.53a1b0f3.js"><link rel="prefetch" href="/assets/142.html.fc81d982.js"><link rel="prefetch" href="/assets/143.html.ad335aaa.js"><link rel="prefetch" href="/assets/404.html.58783704.js">
    <link rel="stylesheet" href="/assets/style.f4d22aab.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">每日一题</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/fe" class="router-link-active" aria-label="前端基础"><!--[--><!--]--> 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/editor" class="" aria-label="编辑器"><!--[--><!--]--> 编辑器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/3d" class="" aria-label="3d"><!--[--><!--]--> 3d <!--[--><!--]--></a></div><div class="navbar-item"><a href="/media" class="" aria-label="音媒体"><!--[--><!--]--> 音媒体 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/kangyana/daily-question" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/fe" class="router-link-active" aria-label="前端基础"><!--[--><!--]--> 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/editor" class="" aria-label="编辑器"><!--[--><!--]--> 编辑器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/3d" class="" aria-label="3d"><!--[--><!--]--> 3d <!--[--><!--]--></a></div><div class="navbar-item"><a href="/media" class="" aria-label="音媒体"><!--[--><!--]--> 音媒体 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/kangyana/daily-question" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/fe" class="router-link-active sidebar-item sidebar-heading" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">javascript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/javascript/1.html" class="sidebar-item" aria-label="【Q001】js 有几种基本的数据类型"><!--[--><!--]--> 【Q001】js 有几种基本的数据类型 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/2.html" class="sidebar-item" aria-label="【Q002】如何判断 js 数据类型"><!--[--><!--]--> 【Q002】如何判断 js 数据类型 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/3.html" class="sidebar-item" aria-label="【Q003】typeof和instanceof的区别"><!--[--><!--]--> 【Q003】typeof和instanceof的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/4.html" class="sidebar-item" aria-label="【Q004】如何判断一个变量是不是Array"><!--[--><!--]--> 【Q004】如何判断一个变量是不是Array <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/5.html" class="sidebar-item" aria-label="【Q005】==和===有什么不同"><!--[--><!--]--> 【Q005】==和===有什么不同 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/6.html" class="sidebar-item" aria-label="【Q006】事件机制"><!--[--><!--]--> 【Q006】事件机制 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/7.html" class="sidebar-item" aria-label="【Q007】事件委托"><!--[--><!--]--> 【Q007】事件委托 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/8.html" class="sidebar-item" aria-label="【Q008】e.preventDefault()是干什么的"><!--[--><!--]--> 【Q008】e.preventDefault()是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/9.html" class="sidebar-item" aria-label="【Q009】JS中this是如何工作的"><!--[--><!--]--> 【Q009】JS中this是如何工作的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/10.html" class="sidebar-item" aria-label="【Q010】apply、call、bind的区别，及源码实现"><!--[--><!--]--> 【Q010】apply、call、bind的区别，及源码实现 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/11.html" class="sidebar-item" aria-label="【Q011】js中new关键字原理"><!--[--><!--]--> 【Q011】js中new关键字原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/12.html" class="sidebar-item" aria-label="【Q012】JS 中继承是如何实现的"><!--[--><!--]--> 【Q012】JS 中继承是如何实现的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/13.html" class="sidebar-item" aria-label="【Q013】JS 原型和原型链"><!--[--><!--]--> 【Q013】JS 原型和原型链 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/14.html" class="sidebar-item" aria-label="【Q014】闭包与作用域链"><!--[--><!--]--> 【Q014】闭包与作用域链 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/15.html" class="sidebar-item" aria-label="【Q015】let、const、var的区别"><!--[--><!--]--> 【Q015】let、const、var的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/16.html" class="sidebar-item" aria-label="【Q016】JS 中变量声明提升"><!--[--><!--]--> 【Q016】JS 中变量声明提升 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/17.html" class="sidebar-item" aria-label="【Q017】JS 模块化"><!--[--><!--]--> 【Q017】JS 模块化 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/18.html" class="sidebar-item" aria-label="【Q018】IIFE 立即执行函数"><!--[--><!--]--> 【Q018】IIFE 立即执行函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/19.html" class="sidebar-item" aria-label="【Q019】匿名函数"><!--[--><!--]--> 【Q019】匿名函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/20.html" class="sidebar-item" aria-label="【Q020】箭头函数"><!--[--><!--]--> 【Q020】箭头函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/21.html" class="sidebar-item" aria-label="【Q021】函数柯里化"><!--[--><!--]--> 【Q021】函数柯里化 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/22.html" class="sidebar-item" aria-label="【Q022】Promise"><!--[--><!--]--> 【Q022】Promise <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/23.html" class="sidebar-item" aria-label="【Q023】async/await"><!--[--><!--]--> 【Q023】async/await <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/24.html" class="sidebar-item" aria-label="【Q024】Generator"><!--[--><!--]--> 【Q024】Generator <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/25.html" class="sidebar-item" aria-label="【Q025】对象遍历 和 数组遍历"><!--[--><!--]--> 【Q025】对象遍历 和 数组遍历 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/26.html" class="sidebar-item" aria-label="【Q026】常见的数组方法"><!--[--><!--]--> 【Q026】常见的数组方法 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/27.html" class="sidebar-item" aria-label="【Q027】Ajax 工作原理"><!--[--><!--]--> 【Q027】Ajax 工作原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/28.html" class="sidebar-item" aria-label="【Q028】fetch"><!--[--><!--]--> 【Q028】fetch <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/29.html" class="sidebar-item" aria-label="【Q029】同源策略（same-origin policy）"><!--[--><!--]--> 【Q029】同源策略（same-origin policy） <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/30.html" class="sidebar-item" aria-label="【Q030】JS strict模式"><!--[--><!--]--> 【Q030】JS strict模式 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/31.html" class="sidebar-item" aria-label="【Q031】cookie"><!--[--><!--]--> 【Q031】cookie <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/32.html" class="sidebar-item" aria-label="【Q032】sessionStorage、localStorage"><!--[--><!--]--> 【Q032】sessionStorage、localStorage <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/33.html" class="sidebar-item" aria-label="【Q032】IndexedDB"><!--[--><!--]--> 【Q032】IndexedDB <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/34.html" class="sidebar-item" aria-label="【Q034】web worker"><!--[--><!--]--> 【Q034】web worker <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/35.html" class="sidebar-item" aria-label="【Q035】请解释什么是单页面应用"><!--[--><!--]--> 【Q035】请解释什么是单页面应用 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/36.html" class="sidebar-item" aria-label="【Q036】可变对象和不可变对象"><!--[--><!--]--> 【Q036】可变对象和不可变对象 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/37.html" class="sidebar-item" aria-label="【Q037】什么是事件循环（event loop）"><!--[--><!--]--> 【Q037】什么是事件循环（event loop） <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/38.html" class="sidebar-item" aria-label="【Q038】创建对象有几种方法"><!--[--><!--]--> 【Q038】创建对象有几种方法 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/39.html" class="sidebar-item" aria-label="【Q039】深拷贝和浅拷贝"><!--[--><!--]--> 【Q039】深拷贝和浅拷贝 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/40.html" class="sidebar-item" aria-label="【Q040】网页各种高度"><!--[--><!--]--> 【Q040】网页各种高度 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/41.html" class="sidebar-item" aria-label="【Q041】requestAnimationFrame"><!--[--><!--]--> 【Q041】requestAnimationFrame <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/42.html" class="sidebar-item" aria-label="【Q042】requestIdleCallback"><!--[--><!--]--> 【Q042】requestIdleCallback <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/43.html" class="sidebar-item" aria-label="【Q043】webassembly"><!--[--><!--]--> 【Q043】webassembly <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/44.html" class="sidebar-item" aria-label="【Q044】垃圾回收"><!--[--><!--]--> 【Q044】垃圾回收 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/45.html" class="sidebar-item" aria-label="【Q045】proxy"><!--[--><!--]--> 【Q045】proxy <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/46.html" class="sidebar-item" aria-label="【Q046】Object.defineProperty"><!--[--><!--]--> 【Q046】Object.defineProperty <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/47.html" class="sidebar-item" aria-label="【Q047】map set"><!--[--><!--]--> 【Q047】map set <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/48.html" class="sidebar-item" aria-label="【Q048】null 和 undefined 的区别"><!--[--><!--]--> 【Q048】null 和 undefined 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/49.html" class="sidebar-item" aria-label="【Q049】symbol"><!--[--><!--]--> 【Q049】symbol <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/50.html" class="sidebar-item" aria-label="【Q050】Object.assign"><!--[--><!--]--> 【Q050】Object.assign <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/51.html" class="sidebar-item" aria-label="【Q051】常见的 DOM 方法"><!--[--><!--]--> 【Q051】常见的 DOM 方法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">react <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/react/52.html" class="sidebar-item" aria-label="【Q052】React 17、React 18新特性"><!--[--><!--]--> 【Q052】React 17、React 18新特性 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/53.html" class="sidebar-item" aria-label="【Q053】虚拟 DOM 是什么？以及 Diff 算法原理"><!--[--><!--]--> 【Q053】虚拟 DOM 是什么？以及 Diff 算法原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/54.html" class="sidebar-item" aria-label="【Q054】key 是干什么的"><!--[--><!--]--> 【Q054】key 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/55.html" class="sidebar-item" aria-label="【Q055】Fiber"><!--[--><!--]--> 【Q055】Fiber <!--[--><!--]--></a><!----></li><li><a href="/fe/react/56.html" class="sidebar-item" aria-label="【Q056】React 事件机制和原生事件机制的关系"><!--[--><!--]--> 【Q056】React 事件机制和原生事件机制的关系 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/57.html" class="sidebar-item" aria-label="【Q057】React 生命周期"><!--[--><!--]--> 【Q057】React 生命周期 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/58.html" class="sidebar-item" aria-label="【Q058】React 组件性能优化"><!--[--><!--]--> 【Q058】React 组件性能优化 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/59.html" class="sidebar-item" aria-label="【Q059】React.memo"><!--[--><!--]--> 【Q059】React.memo <!--[--><!--]--></a><!----></li><li><a href="/fe/react/60.html" class="sidebar-item" aria-label="【Q060】props.children"><!--[--><!--]--> 【Q060】props.children <!--[--><!--]--></a><!----></li><li><a href="/fe/react/61.html" class="sidebar-item" aria-label="【Q061】content"><!--[--><!--]--> 【Q061】content <!--[--><!--]--></a><!----></li><li><a href="/fe/react/62.html" class="sidebar-item" aria-label="【Q062】setState 是同步还是异步？"><!--[--><!--]--> 【Q062】setState 是同步还是异步？ <!--[--><!--]--></a><!----></li><li><a href="/fe/react/63.html" class="sidebar-item" aria-label="【Q063】setState 批更新"><!--[--><!--]--> 【Q063】setState 批更新 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/64.html" class="sidebar-item" aria-label="【Q064】组件通信"><!--[--><!--]--> 【Q064】组件通信 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/65.html" class="sidebar-item" aria-label="【Q065】高阶组件原理"><!--[--><!--]--> 【Q065】高阶组件原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/66.html" class="sidebar-item" aria-label="【Q066】受控组件和非受控组件"><!--[--><!--]--> 【Q066】受控组件和非受控组件 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/67.html" class="sidebar-item" aria-label="【Q067】为什么要是用 React Hooks?"><!--[--><!--]--> 【Q067】为什么要是用 React Hooks? <!--[--><!--]--></a><!----></li><li><a href="/fe/react/68.html" class="sidebar-item" aria-label="【Q068】React Hooks 实现原理"><!--[--><!--]--> 【Q068】React Hooks 实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/69.html" class="sidebar-item" aria-label="【Q069】React Hooks 使用原则，以及为什么"><!--[--><!--]--> 【Q069】React Hooks 使用原则，以及为什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/70.html" class="sidebar-item" aria-label="【Q070】React Hooks 使用中常见问题"><!--[--><!--]--> 【Q070】React Hooks 使用中常见问题 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/71.html" class="sidebar-item" aria-label="【Q071】官方自带的 Hooks"><!--[--><!--]--> 【Q071】官方自带的 Hooks <!--[--><!--]--></a><!----></li><li><a href="/fe/react/72.html" class="sidebar-item" aria-label="【Q072】useEffect 和 useLayoutEffect 的区别"><!--[--><!--]--> 【Q072】useEffect 和 useLayoutEffect 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/73.html" class="sidebar-item" aria-label="【Q073】useMemo 和 useCallback 的区别"><!--[--><!--]--> 【Q073】useMemo 和 useCallback 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/74.html" class="sidebar-item" aria-label="【Q074】如何自己封装一个 Hooks"><!--[--><!--]--> 【Q074】如何自己封装一个 Hooks <!--[--><!--]--></a><!----></li><li><a href="/fe/react/75.html" class="sidebar-item" aria-label="【Q075】Suspense"><!--[--><!--]--> 【Q075】Suspense <!--[--><!--]--></a><!----></li><li><a href="/fe/react/76.html" class="sidebar-item" aria-label="【Q076】Concurrent"><!--[--><!--]--> 【Q076】Concurrent <!--[--><!--]--></a><!----></li><li><a href="/fe/react/77.html" class="sidebar-item" aria-label="【Q077】startTransition"><!--[--><!--]--> 【Q077】startTransition <!--[--><!--]--></a><!----></li><li><a href="/fe/react/78.html" class="sidebar-item" aria-label="【Q078】Server Component"><!--[--><!--]--> 【Q078】Server Component <!--[--><!--]--></a><!----></li><li><a href="/fe/react/79.html" class="sidebar-item" aria-label="【Q079】componentDidCatch"><!--[--><!--]--> 【Q079】componentDidCatch <!--[--><!--]--></a><!----></li><li><a href="/fe/react/80.html" class="sidebar-item" aria-label="【Q080】SSR"><!--[--><!--]--> 【Q080】SSR <!--[--><!--]--></a><!----></li><li><a href="/fe/react/81.html" class="sidebar-item" aria-label="【Q081】为什么需要用 redux"><!--[--><!--]--> 【Q081】为什么需要用 redux <!--[--><!--]--></a><!----></li><li><a href="/fe/react/82.html" class="sidebar-item" aria-label="【Q082】react-redux 是干什么的"><!--[--><!--]--> 【Q082】react-redux 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/83.html" class="sidebar-item" aria-label="【Q083】react-redux connect 实现原理"><!--[--><!--]--> 【Q083】react-redux connect 实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/84.html" class="sidebar-item" aria-label="【Q084】redux 工作流程及原理"><!--[--><!--]--> 【Q084】redux 工作流程及原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/85.html" class="sidebar-item" aria-label="【Q085】有没有用过其它状态管理器？以及原理"><!--[--><!--]--> 【Q085】有没有用过其它状态管理器？以及原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/86.html" class="sidebar-item" aria-label="【Q086】react-router 路由实现原理"><!--[--><!--]--> 【Q086】react-router 路由实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/87.html" class="sidebar-item" aria-label="【Q087】react-router 有几种路由类型？"><!--[--><!--]--> 【Q087】react-router 有几种路由类型？ <!--[--><!--]--></a><!----></li><li><a href="/fe/react/88.html" class="sidebar-item" aria-label="【Q088】项目本地开发完成后部署到服务器后报 404"><!--[--><!--]--> 【Q088】项目本地开发完成后部署到服务器后报 404 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">webpack <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/fe/webpack/89.html" class="sidebar-item" aria-label="【Q089】为什么需要 webpack"><!--[--><!--]--> 【Q089】为什么需要 webpack <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fe/webpack/90.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="【Q090】webpack 5 新特性"><!--[--><!--]--> 【Q090】webpack 5 新特性 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/91.html" class="sidebar-item" aria-label="【Q091】loader"><!--[--><!--]--> 【Q091】loader <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/92.html" class="sidebar-item" aria-label="【Q092】plugin"><!--[--><!--]--> 【Q092】plugin <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/93.html" class="sidebar-item" aria-label="【Q093】tree shaking"><!--[--><!--]--> 【Q093】tree shaking <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/94.html" class="sidebar-item" aria-label="【Q094】常见的配置项"><!--[--><!--]--> 【Q094】常见的配置项 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/95.html" class="sidebar-item" aria-label="【Q095】publicPath 是干什么的"><!--[--><!--]--> 【Q095】publicPath 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/96.html" class="sidebar-item" aria-label="【Q096】打包很慢，怎么解决"><!--[--><!--]--> 【Q096】打包很慢，怎么解决 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/97.html" class="sidebar-item" aria-label="【Q097】打包出来的文件很大，怎么解决？"><!--[--><!--]--> 【Q097】打包出来的文件很大，怎么解决？ <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/98.html" class="sidebar-item" aria-label="【Q098】模块联邦"><!--[--><!--]--> 【Q098】模块联邦 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/99.html" class="sidebar-item" aria-label="【Q099】HMR 原理"><!--[--><!--]--> 【Q099】HMR 原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/100.html" class="sidebar-item" aria-label="【Q100】有了解过现在流行的 bundleless 构建工具吗？"><!--[--><!--]--> 【Q100】有了解过现在流行的 bundleless 构建工具吗？ <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/101.html" class="sidebar-item" aria-label="【Q101】vite 原理"><!--[--><!--]--> 【Q101】vite 原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/102.html" class="sidebar-item" aria-label="【Q102】sourceMap"><!--[--><!--]--> 【Q102】sourceMap <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">工程化 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/工程化/103.html" class="sidebar-item" aria-label="【Q103】打包时 cjs、es、umd 模块有何不同"><!--[--><!--]--> 【Q103】打包时 cjs、es、umd 模块有何不同 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/104.html" class="sidebar-item" aria-label="【Q104】什么是 AST，及其应用"><!--[--><!--]--> 【Q104】什么是 AST，及其应用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/105.html" class="sidebar-item" aria-label="【Q105】webpack 的 runtime 做了什么事情"><!--[--><!--]--> 【Q105】webpack 的 runtime 做了什么事情 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/106.html" class="sidebar-item" aria-label="【Q106】webpack 中的 code spliting 是如何动态加载 chunk 的？"><!--[--><!--]--> 【Q106】webpack 中的 code spliting 是如何动态加载 chunk 的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/107.html" class="sidebar-item" aria-label="【Q107】打包器 如何加载 json、image 等非 Javascript 资源"><!--[--><!--]--> 【Q107】打包器 如何加载 json、image 等非 Javascript 资源 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/108.html" class="sidebar-item" aria-label="【Q108】打包器 如何加载 style 样式资源"><!--[--><!--]--> 【Q108】打包器 如何加载 style 样式资源 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/109.html" class="sidebar-item" aria-label="【Q109】打包器 如何将打包后的 js 资源注入 html 中"><!--[--><!--]--> 【Q109】打包器 如何将打包后的 js 资源注入 html 中 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/110.html" class="sidebar-item" aria-label="【Q110】webpack 中什么是 HMR，原理是什么"><!--[--><!--]--> 【Q110】webpack 中什么是 HMR，原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/111.html" class="sidebar-item" aria-label="【Q111】如何提升 webpack 构建资源的速度"><!--[--><!--]--> 【Q111】如何提升 webpack 构建资源的速度 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/112.html" class="sidebar-item" aria-label="【Q112】如何分析前端打包体积"><!--[--><!--]--> 【Q112】如何分析前端打包体积 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/113.html" class="sidebar-item" aria-label="【Q113】js 代码压缩 minify 的原理是什么"><!--[--><!--]--> 【Q113】js 代码压缩 minify 的原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/114.html" class="sidebar-item" aria-label="【Q114】Tree Shaking 的原理是什么"><!--[--><!--]--> 【Q114】Tree Shaking 的原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/115.html" class="sidebar-item" aria-label="【Q115】core-js 是做什么用的？"><!--[--><!--]--> 【Q115】core-js 是做什么用的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/116.html" class="sidebar-item" aria-label="【Q116】browserslist 是做什么的？"><!--[--><!--]--> 【Q116】browserslist 是做什么的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/117.html" class="sidebar-item" aria-label="【Q117】浏览器中如何使用原生的 ESM"><!--[--><!--]--> 【Q117】浏览器中如何使用原生的 ESM <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/118.html" class="sidebar-item" aria-label="【Q118】如何将 CommonJS 转化为 ESM"><!--[--><!--]--> 【Q118】如何将 CommonJS 转化为 ESM <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/119.html" class="sidebar-item" aria-label="【Q119】简述 bundless 的优势与不足"><!--[--><!--]--> 【Q119】简述 bundless 的优势与不足 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/120.html" class="sidebar-item" aria-label="【Q120】什么是 semver，~1.2.3 与 ^1.2.3 的版本号范围是多少"><!--[--><!--]--> 【Q120】什么是 semver，~1.2.3 与 ^1.2.3 的版本号范围是多少 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/121.html" class="sidebar-item" aria-label="【Q121】package.json 中 main/module/browser/exports 字段"><!--[--><!--]--> 【Q121】package.json 中 main/module/browser/exports 字段 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/122.html" class="sidebar-item" aria-label="【Q122】dependencies 与 devDependencies 有何区别"><!--[--><!--]--> 【Q122】dependencies 与 devDependencies 有何区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/123.html" class="sidebar-item" aria-label="【Q123】如何为一个项目指定 node 版本号"><!--[--><!--]--> 【Q123】如何为一个项目指定 node 版本号 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/124.html" class="sidebar-item" aria-label="【Q124】简述 npm script 的生命周期"><!--[--><!--]--> 【Q124】简述 npm script 的生命周期 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/125.html" class="sidebar-item" aria-label="【Q125】如何对 npm package 进行发包"><!--[--><!--]--> 【Q125】如何对 npm package 进行发包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/126.html" class="sidebar-item" aria-label="【Q126】package-lock.json 有什么作用"><!--[--><!--]--> 【Q126】package-lock.json 有什么作用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/127.html" class="sidebar-item" aria-label="【Q127】npm 第三方库需要提交 lockfile 吗"><!--[--><!--]--> 【Q127】npm 第三方库需要提交 lockfile 吗 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/128.html" class="sidebar-item" aria-label="【Q128】简述 npm cache"><!--[--><!--]--> 【Q128】简述 npm cache <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/129.html" class="sidebar-item" aria-label="【Q129】node_modules 的目录结构(拓扑结构)"><!--[--><!--]--> 【Q129】node_modules 的目录结构(拓扑结构) <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/130.html" class="sidebar-item" aria-label="【Q130】pnpm 有什么优势"><!--[--><!--]--> 【Q130】pnpm 有什么优势 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/131.html" class="sidebar-item" aria-label="【Q131】请问什么是 CICD"><!--[--><!--]--> 【Q131】请问什么是 CICD <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/132.html" class="sidebar-item" aria-label="【Q132】git hooks 原理是什么"><!--[--><!--]--> 【Q132】git hooks 原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/133.html" class="sidebar-item" aria-label="【Q133】如何检测出你们安装的依赖是否安全"><!--[--><!--]--> 【Q133】如何检测出你们安装的依赖是否安全 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/134.html" class="sidebar-item" aria-label="【Q134】在项目中，如何平滑升级 npm 包"><!--[--><!--]--> 【Q134】在项目中，如何平滑升级 npm 包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/135.html" class="sidebar-item" aria-label="【Q135】请简述下 eslint 的作用"><!--[--><!--]--> 【Q135】请简述下 eslint 的作用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/136.html" class="sidebar-item" aria-label="【Q136】如何修复某个 npm 包的紧急 bug"><!--[--><!--]--> 【Q136】如何修复某个 npm 包的紧急 bug <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/137.html" class="sidebar-item" aria-label="【Q137】使用 webpack 打包时，如何更好地利用 long term cache"><!--[--><!--]--> 【Q137】使用 webpack 打包时，如何更好地利用 long term cache <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/138.html" class="sidebar-item" aria-label="【Q138】前端如何进行高效的分包"><!--[--><!--]--> 【Q138】前端如何进行高效的分包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/139.html" class="sidebar-item" aria-label="【Q139】如何使用 docker 部署前端"><!--[--><!--]--> 【Q139】如何使用 docker 部署前端 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/140.html" class="sidebar-item" aria-label="【Q140】前端如何对分支环境进行部署"><!--[--><!--]--> 【Q140】前端如何对分支环境进行部署 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">算法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/算法/141.html" class="sidebar-item" aria-label="【Q141】阿里云笔试"><!--[--><!--]--> 【Q141】阿里云笔试 <!--[--><!--]--></a><!----></li><li><a href="/fe/算法/142.html" class="sidebar-item" aria-label="【Q142】CVTE笔试"><!--[--><!--]--> 【Q142】CVTE笔试 <!--[--><!--]--></a><!----></li><li><a href="/fe/算法/143.html" class="sidebar-item" aria-label="【Q143】阿里笔试"><!--[--><!--]--> 【Q143】阿里笔试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="【q090】webpack-5-新特性" tabindex="-1"><a class="header-anchor" href="#【q090】webpack-5-新特性" aria-hidden="true">#</a> 【Q090】webpack 5 新特性</h1><div class="custom-container tip"><p class="custom-container-title">Issue</p><p>欢迎在 Gtihub Issue 中回答此问题: <a href="https://github.com/kangyana/daily-question/issues/90" target="_blank" rel="noopener noreferrer">Issue 90<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_1-webpack-5-整体方向" tabindex="-1"><a class="header-anchor" href="#_1-webpack-5-整体方向" aria-hidden="true">#</a> 1. webpack 5 整体方向</h2><p>这个版本的重点在于以下几点：</p><ul><li>尝试用持久性缓存来提高构建性能。</li><li>尝试用更好的算法和默认值来改进长期缓存。</li><li>尝试用更好的 <code>Tree Shaking</code> 和代码生成来改善包大小。</li><li>尝试改善与网络平台的兼容性。</li><li>尝试在不引入任何破坏性变化的情况下，清理那些在实现 v4 功能时处于奇怪状态的内部结构。</li><li>试图通过现在引入突破性的变化来为未来的功能做准备，使其能够尽可能长时间地保持在 v5 版本上。</li></ul><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_2-删除的功能" tabindex="-1"><a class="header-anchor" href="#_2-删除的功能" aria-hidden="true">#</a> 2. 删除的功能</h2><p>以下为 v5 版本删除的功能：</p><h3 id="清理弃用的能力" tabindex="-1"><a class="header-anchor" href="#清理弃用的能力" aria-hidden="true">#</a> 清理弃用的能力</h3><p>所有在 v4 中被废弃的能力都被移除。 迁移时确保你的 v4 构建没有打印废弃警告。</p><h3 id="废弃代码" tabindex="-1"><a class="header-anchor" href="#废弃代码" aria-hidden="true">#</a> 废弃代码</h3><p>新的弃用包括一个弃用代码，这样他们更容易被引用。</p><h3 id="语法废弃" tabindex="-1"><a class="header-anchor" href="#语法废弃" aria-hidden="true">#</a> 语法废弃</h3><p><code>require.include</code> 已被废弃，可以用 <code>Rule.parser.requireInclude</code> 替代。</p><h3 id="不再为-node-js-模块-自动引用-polyfills" tabindex="-1"><a class="header-anchor" href="#不再为-node-js-模块-自动引用-polyfills" aria-hidden="true">#</a> 不再为 Node.js 模块 自动引用 Polyfills</h3><p>v4 在构建时<code>bundle</code> 附加了庞大的 <code>polyfills</code>。 在大部分情况下，这些 <code>polyfills</code> 并非必须。</p><p>迁移时注意：</p><ul><li>尽量使用前端兼容的模块。</li><li>可以手动为 Node.js 核心模块添加 <code>polyfill</code>。错误提示会告诉你如何实现。</li><li>包作者：在 package.json 中添加 browser 字段，使 package 与前端兼容。为浏览器提供 <strong>其他的实现</strong> 或者<code>dependencies</code>。</li></ul><h2 id="_3-长期缓存" tabindex="-1"><a class="header-anchor" href="#_3-长期缓存" aria-hidden="true">#</a> 3. 长期缓存</h2><h3 id="确定的-chunk、模块-id-和导出名称。" tabindex="-1"><a class="header-anchor" href="#确定的-chunk、模块-id-和导出名称。" aria-hidden="true">#</a> 确定的 Chunk、模块 ID 和导出名称。</h3><p>新增了长期缓存的算法。这些算法在生产模式下是默认启用的。</p><p><code>chunkIds: &quot;deterministic&quot;</code> <code>moduleIds: &quot;deterministic&quot;</code> <code>mangleExports: &quot;deterministic&quot;</code></p><p>该算法以确定性的方式为模块和分块分配短的（3 或 5 位）数字 ID， 这是包大小和长期缓存之间的一种权衡。</p><h3 id="真正的内容哈希" tabindex="-1"><a class="header-anchor" href="#真正的内容哈希" aria-hidden="true">#</a> 真正的内容哈希</h3><p>当使用 <code>contenthash</code> 时，V5 将使用真正的文件内容哈希值。 之前它 &quot;只&quot; 使用内部结构的哈希值。 当只有注释被修改或变量被重命名时，这对长期缓存会有积极影响。 这些变化在压缩后是不可见的。</p><h2 id="_4-开发模式的特性" tabindex="-1"><a class="header-anchor" href="#_4-开发模式的特性" aria-hidden="true">#</a> 4. 开发模式的特性</h2><h3 id="命名代码块-id" tabindex="-1"><a class="header-anchor" href="#命名代码块-id" aria-hidden="true">#</a> 命名代码块 ID</h3><p>在开发模式下，默认启用的新命名代码块 ID 算法为模块（和文件名）提供了人类可读的名称。 模块 ID 由其路径决定，相对于 context。 代码块 ID 由代码块的内容决定。</p><p>所以你不再需要使用 <code>import(/* webpackChunkName: &quot;name&quot; */ &quot;module&quot;)</code> 来调试。 但如果你想控制生产环境的文件名，还是有意义的。</p><p>可以在生产环境中使用 <code>chunkIds: &quot;named&quot;</code> 在生产环境中使用，但要确保不要不小心暴露模块名的敏感信息。</p><p>迁移时注意：如果你不喜欢在开发中改变文件名，你可以通过 <code>chunkIds: &quot;natural&quot;</code> 来使用旧的 <strong>数字模式</strong>。</p><h3 id="模块联邦" tabindex="-1"><a class="header-anchor" href="#模块联邦" aria-hidden="true">#</a> 模块联邦</h3><p>v5 增加了一个新的功能 <code>模块联邦</code>，它允许多个 webpack 构建一起工作。 从运行时的角度来看，多个构建的模块将表现得像一个巨大的连接模块图。 从开发者的角度来看，模块可以从指定的远程构建中导入，并以最小的限制来使用。</p><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_5-支持-web-的新特性" tabindex="-1"><a class="header-anchor" href="#_5-支持-web-的新特性" aria-hidden="true">#</a> 5. 支持 Web 的新特性</h2><h3 id="json-模块" tabindex="-1"><a class="header-anchor" href="#json-模块" aria-hidden="true">#</a> JSON 模块</h3><p>JSON 模块现在与提案保持一致，并在使用非默认导出时发出警告。 当从严格的 ECMAScript 模块导入时，JSON 模块不再有命名的导出。</p><p>即使使用默认导出，未使用的属性也会被 optimization.usedExports 优化丢弃，属性会被 optimization.mangleExports 优化打乱。</p><p>可以在 <code>Rule.parser.parse</code> 中指定一个自定义的 JSON 解析器来导入类似 JSON 的文件（例如针对 toml、yaml、json5 等）。</p><h3 id="import-meta" tabindex="-1"><a class="header-anchor" href="#import-meta" aria-hidden="true">#</a> i<wbr>mport.meta</h3><ul><li><code>i<wbr>mport.meta.webpackHot</code> 是 <code>module.hot</code> 的别名，在严格的 ESM 中也可以使用。</li><li><code>i<wbr>mport.meta.webpack</code> 是 webpack 的主要版本号。</li><li><code>i<wbr>mport.meta.url</code> 是当前文件的 <code>file:</code> url(类似于__filename，但作为文件 url)。</li></ul><h3 id="资源模块" tabindex="-1"><a class="header-anchor" href="#资源模块" aria-hidden="true">#</a> 资源模块</h3><p>v5 现在已经对表示资源的模块提供了内置支持。 这些模块可以向输出文件夹发送一个文件，或者向 javascript 包注入一个 DataURI。 无论哪种方式，它们都会给出一个 URL 来工作。</p><p>它们可以通过多种方式被使用：</p><ul><li><strong>老方法</strong>：<code>import url from &quot;./image.png&quot;</code> 和在 <code>module.rule</code> 中设置 <code>type: &quot;asset&quot;</code> 当匹配这样的导入时。</li><li><strong>新方法</strong>：<code>new URL(&quot;./image.png&quot;, i<wbr>mport.meta.url)</code></li></ul><p>选择 <strong>新方法</strong> 是为了允许在没有打包工具的情况下运行代码。 这种语法也可以在浏览器中的原生 ECMAScript 模块中使用。</p><h3 id="原生-worker-支持" tabindex="-1"><a class="header-anchor" href="#原生-worker-支持" aria-hidden="true">#</a> 原生 Worker 支持</h3><p>当把资源的 <code>new URL</code> 和 <code>new Worker/new SharedWorker/navigator.serviceWorker.register</code> 结合起来时， webpack 会自动为 <code>web worker</code> 创建一个新的入口点（entrypoint）。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">&quot;./worker.js&quot;</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>选择这种语法也是为了允许在没有打包工具的情况下运行代码。 这种语法在浏览器的原生 ECMAScript 模块中也可以使用。</p><h3 id="uris" tabindex="-1"><a class="header-anchor" href="#uris" aria-hidden="true">#</a> URIs</h3><p>v5 支持在请求中处理协议。</p><ul><li>支持 <code>data:</code> 支持 Base64 或原始编码。 Mimetype 可以在 <code>module.rule</code> 中被映射到加载器和模块类型。 例如：<code>import x from &quot;data:text/javascript,export default 42&quot;</code>。</li><li>支持 <code>file:</code></li><li>支持 <code>http(s):</code> 但需要通过 <code>new webpack.experiments.s schemesHttp(s)UriPlugin()</code> 选择加入。</li><li>默认情况下，当目标为 &quot;web &quot;时，这些 URI 会导致对外部资源的请求（它们是外部资源）。</li><li>支持请求中的片段。例如：<code>./file.js#fragment</code>。</li></ul><h3 id="异步模块" tabindex="-1"><a class="header-anchor" href="#异步模块" aria-hidden="true">#</a> 异步模块</h3><p>异步模块的解析，是基于异步和 <code>Promise</code> 的。</p><p>通过 <code>import</code> 导入它们会被自动处理，不需要额外的语法，而且几乎看不出区别。</p><p>通过 <code>require()</code> 导入它们会返回一个解析到导出的 <code>Promise</code>。</p><p>在 webpack 中，有多种方式来拥有异步模块：</p><ul><li>异步的外部资源(async externals)</li><li>新规范中的 <code>WebAssembly</code> 模块</li><li>使用顶层 <code>await</code> 的 ECMAScript 模块</li></ul><h3 id="外部资源" tabindex="-1"><a class="header-anchor" href="#外部资源" aria-hidden="true">#</a> 外部资源</h3><p>v5 增加了更多的外部引用类型：</p><ul><li><strong>promise</strong>: 一个评估为 <code>Promise</code> 的表达式。外部模块是一个异步模块，解析值作为模块导出使用。</li><li><strong>import</strong>：原生的 <code>import()</code> 用于加载指定的请求，外部模块是一个异步模块，解析值作为模块导出。 外部模块是一个异步模块。</li><li><strong>module</strong>: 尚未实现，但计划通过 <code>import x from &quot;...&quot;</code> 加载模块。</li><li><strong>script</strong>: 通过 <code>&lt;script&gt;</code> 标签加载一个 url，并从一个全局变量（以及它的可选属性）中获取输出。 外部模块是一个异步模块。</li></ul><h2 id="_6-支持-node-js-生态新特性" tabindex="-1"><a class="header-anchor" href="#_6-支持-node-js-生态新特性" aria-hidden="true">#</a> 6. 支持 Node.js 生态新特性</h2><h3 id="解析" tabindex="-1"><a class="header-anchor" href="#解析" aria-hidden="true">#</a> 解析</h3><p>现在支持 <code>package.json</code> 中的 <code>exports</code> 和 <code>imports</code> 字段。</p><p>原生支持 <code>Yarn PnP</code>。</p><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_7-开发体验" tabindex="-1"><a class="header-anchor" href="#_7-开发体验" aria-hidden="true">#</a> 7. 开发体验</h2><h3 id="stats" tabindex="-1"><a class="header-anchor" href="#stats" aria-hidden="true">#</a> Stats</h3><p>改进了统计测试格式的可读性和冗余性。 改进了默认值，使其不那么冗长，也适合大型构建。</p><ul><li>现在默认情况下，代码块关系是隐藏的，可以用 <code>stats.chunkRelations</code> 来切换。</li><li><code>Stats</code> 现在可以区分 <code>files</code> 和 <code>auxiliaryFiles</code>。</li><li><code>Stats</code> 现在默认隐藏模块和代码块的 id。这可以通过 <code>stats.ids</code> 来切换。</li><li>现在所有模块的列表是按照到入口点的距离排序的。这可以通过 <code>stats.modulesSort</code> 来改变。</li><li>代码块模块的列表现在按模块名称排序。这可以通过 <code>stats.chunkModulesSort</code> 来改变。</li><li>嵌套模块的列表现在是按拓扑结构排序的。这可以通过 <code>stats.nestedModulesSort</code> 来改变。</li><li>现在，代码块和资源会显示代码块 id 提示。</li><li>资产和模块将以树状而不是列表/表格的形式显示。</li><li>一般信息现在会在最后的摘要中显示。它显示了 webpack 版本，配置名称和警告/错误计数。</li><li>哈希值现在默认是隐藏的。这可以通过 <code>stats.hash</code> 来改变。</li><li>默认情况下不再显示构建的时间戳，这可以通过 <code>stats.builtAt</code> 开启。它会在摘要中显示时间戳。</li><li>默认情况下，不再显示子编译。它们可以用 <code>stats.children</code> 来显示。</li></ul><h3 id="进度条" tabindex="-1"><a class="header-anchor" href="#进度条" aria-hidden="true">#</a> 进度条</h3><p>对 <code>ProgressPlugin</code> 做了一些改进，它被 CLI 在参数 <code>--progress</code> 开启时使用，但也可以作为插件手动使用。</p><p>以前它只计算已处理的模块。现在它可以计算 &quot;入口&quot;、&quot;依赖&quot; 和 &quot;模块&quot;。 现在所有的模块都默认显示了。</p><p>以前它只显示当前处理的模块。这造成了很多 stderr 输出，在一些控制台上产生了性能问题。 现在这个功能被默认关闭（activeModules 选项）。 这也减少了控制台的垃圾信息量。 现在，在构建模块的过程中，向 stderr 写入的时间被控制在 500ms 以内。</p><p>剖析模式也得到了升级，将显示嵌套进度消息的时间。 这使得它更容易弄清楚哪个插件导致了性能问题。</p><p>新增加的 <code>percentBy</code> 选项告知 <code>ProgressPlugin</code> 如何计算进度百分比。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">percentBy</span><span class="token operator">:</span> <span class="token string">&#39;entries&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>为了使进度百分比更准确，<code>ProgressPlugin</code> 会缓存最后已知的总模块数，并在下一次构建时重新使用这个值。 第一次构建将预热缓存，但后续构建将使用并更新这个值。</p><h3 id="自动添加唯一命名" tabindex="-1"><a class="header-anchor" href="#自动添加唯一命名" aria-hidden="true">#</a> 自动添加唯一命名</h3><p>在 v4 中，多个 webpack 运行时可能会在同一个 HTML 页面上发生冲突，因为它们使用同一个全局变量进行代码块加载。 为了解决这个问题，需要为 <code>output.jsonpFunction</code> 配置提供一个自定义的名称。</p><p>v5 确实会从 <code>package.json</code> 的 <code>name</code> 自动推断出一个唯一的构建名称，并将其作为 <code>output.uniqueName</code> 的默认值。</p><p>这个值用于使所有潜在的冲突的全局变量成为唯一。</p><h3 id="自动添加公共路径" tabindex="-1"><a class="header-anchor" href="#自动添加公共路径" aria-hidden="true">#</a> 自动添加公共路径</h3><p>v 5 会在可能的情况下自动确定 <code>output.publicPath</code>。</p><h3 id="typescript-类型" tabindex="-1"><a class="header-anchor" href="#typescript-类型" aria-hidden="true">#</a> Typescript 类型</h3><p>v5 从源码中生成 typescript 类型，并通过 npm 包暴露它们。</p><p>迁移时注意，删除 <code>@types/webpack</code> 包。</p><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_8-构建优化" tabindex="-1"><a class="header-anchor" href="#_8-构建优化" aria-hidden="true">#</a> 8. 构建优化</h2><h3 id="嵌套的-tree-shaking" tabindex="-1"><a class="header-anchor" href="#嵌套的-tree-shaking" aria-hidden="true">#</a> 嵌套的 tree-shaking</h3><p>webpack 现在能够跟踪对导出的嵌套属性的访问。 这可以改善重新导出命名空间对象时的 <code>Tree Shaking</code>（清除未使用的导出和混淆导出）。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// inner.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// module.js</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">as</span> inner <span class="token keyword">from</span> <span class="token string">&#39;./inner&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// 或 import * as inner from &#39;./inner&#39;; export { inner };</span>

<span class="token comment">// user.js</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> module <span class="token keyword">from</span> <span class="token string">&#39;./module&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>inner<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，可以在生产模式下删除导出的b。</p><h3 id="内部模块-tree-shaking" tabindex="-1"><a class="header-anchor" href="#内部模块-tree-shaking" aria-hidden="true">#</a> 内部模块 tree-shaking</h3><p>v4 没有分析模块的导出和引用之间的依赖关系。 v5 有一个新的选项 <code>optimization.innerGraph</code>，在生产模式下是默认启用的，它可以对模块中的标志进行分析，找出导出和引用之间的依赖关系。</p><p>在这样的模块中：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> something <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./something&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">usingSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">usingSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>内部依赖图算法会找出 <code>something</code> 只有在使用 <code>test</code> 导出时才会使用。 这允许将更多的出口标记为未使用，并从代码包中省略更多的代码。</p><p>当设置 <code>&quot;sideEffects&quot;: false</code> 时，可以省略更多的模块。 在这个例子中，当 <code>test</code> 导出未被使用时，<code>./something</code> 将被省略。</p><p>要获得未使用的导出信息，需要使用 <code>optimization.usedExports</code>。 要删除无副作用的模块，需要使用 <code>optimization.sideEffects</code>。</p><p>可以分析以下标记：</p><ul><li>函数声明</li><li>类声明</li><li>默认导出export default 或定义变量以下的： <ul><li>函数表达式</li><li>类表达式</li><li>顺序表达式</li><li>/<em>#<strong>PURE</strong></em>/ 表达式</li><li>局部变量</li><li>引入的捆绑(bindings)</li></ul></li></ul><p>注意：使用 <code>eval()</code> 将为一个模块放弃这个优化，因为经过 <code>eval</code> 的代码可以引用范围内的任何标记。 这种优化也被称为深度范围分析。</p><h3 id="commonjs-的-tree-shaking" tabindex="-1"><a class="header-anchor" href="#commonjs-的-tree-shaking" aria-hidden="true">#</a> CommonJs 的 tree-shaking</h3><p>webpack 曾经不进行对 CommonJs 导出和 <code>require()</code> 调用时的导出使用分析。 v5 增加了对一些 CommonJs 构造的支持，允许消除未使用的 CommonJs 导出，并从 <code>require()</code> 调用中跟踪引用的导出名称。</p><p>支持以下构造：</p><ul><li><p><code>exports|this|module.exports.xxx = ...</code></p></li><li><p><code>exports|this|module.exports = require(&quot;...&quot;)</code> (reexport)</p></li><li><p><code>exports|this|module.exports.xxx = require(&quot;...&quot;).xxx</code> (reexport)</p></li><li><p><code>Object.defineProperty(exports|this|module.exports, &quot;xxx&quot;, ...)</code></p></li><li><p><code>require(&quot;abc&quot;).xxx</code></p></li><li><p><code>require(&quot;abc&quot;).xxx()</code></p></li><li><p>从 ESM 导入</p></li><li><p><code>require()</code> 一个 ESM 模块</p></li><li><p>被标记的导出类型 (对非严格 ESM 导入做特殊处理)</p><ul><li>Object.defineProperty(exports|this|module.exports, &quot;__esModule&quot;, { value: true|!0 })</li><li>exports|this|module.exports.__esModule = true|!0</li></ul></li></ul><p>当检测到不可分析的代码时，webpack 会放弃，并且完全不跟踪这些模块的导出信息（出于性能考虑）。</p><h3 id="副作用分析" tabindex="-1"><a class="header-anchor" href="#副作用分析" aria-hidden="true">#</a> 副作用分析</h3><p>在 <code>package.json</code> 中的 <code>sideEffects</code> 标志允许手动将模块标记为无副作用，这就允许在不使用时放弃它们。</p><p>v5 也可以根据对源代码的静态分析，自动将模块标记为无副作用。</p><h3 id="每个运行时的优化" tabindex="-1"><a class="header-anchor" href="#每个运行时的优化" aria-hidden="true">#</a> 每个运行时的优化</h3><p>v5 现在能够分析和优化每个运行时的模块。 这允许只在真正需要的地方导出这些入口点。 入口点之间不会相互影响。</p><h3 id="模块合并" tabindex="-1"><a class="header-anchor" href="#模块合并" aria-hidden="true">#</a> 模块合并</h3><p>模块合并也可以在每个运行时工作，允许每个运行时进行不同的合并</p><p>模块合并已经成为一等公民，现在任何模块和依赖都可以实现它。 现已经添加了对 ExternalModules 和 json 模块的支持。</p><h3 id="通用-tree-shaking-改进" tabindex="-1"><a class="header-anchor" href="#通用-tree-shaking-改进" aria-hidden="true">#</a> 通用 Tree Shaking 改进</h3><p><code>export *</code> 已经得到改进，可以跟踪更多的信息，并且不再将默认导出标记为使用。</p><p><code>export *</code> 现在会在 webpack 确定有冲突的导出时显示警告。</p><p><code>import()</code> 允许通过 <code>/* webpackExports: [&quot;abc&quot;, &quot;default&quot;] */</code> 该魔法注释手动 <code>tree shake</code> 模块。</p><h3 id="开发与生产保持一致性" tabindex="-1"><a class="header-anchor" href="#开发与生产保持一致性" aria-hidden="true">#</a> 开发与生产保持一致性</h3><p>v5 试图通过改善两种模式的相似性，在开发模式的构建性能和避免仅在生产模式的产生的问题之间找到一个很好的平衡点。 v5 默认在两种模式下都启用了 <code>sideEffects</code> 优化。 在 v4 中，由于 <code>package.json</code> 中的 <code>sideEffects</code> 标记不正确，这种优化导致了一些只在生产模式下出现的错误。 在开发过程中启用这个优化可以更快更容易地发现这些问题。</p><p>在很多情况下，开发和生产都是在不同的操作系统上进行的，文件系统的大小写敏感度不同，所以 v5 增加了一些奇怪的大小写的警告/错误。</p><h3 id="改进代码生成" tabindex="-1"><a class="header-anchor" href="#改进代码生成" aria-hidden="true">#</a> 改进代码生成</h3><p>当 ASI 发生时，webpack 会检测到，当没有分号插入时，会生成更短的代码。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">Object</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>webpack 将多个导出的 getters 合并为一个运行时函数调用。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>r<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> r<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">-</span><span class="token operator">&gt;</span> r<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">,</span> <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>现在在 <code>output.environment</code> 中有额外的选项。 它们允许指定哪些 ECMAScript 特性可以用于 webpack 生成的运行时代码。</p><p>通常人们不会直接指定这个选项，而是会使用 <code>target</code> 选项。</p><p>v4 之前只生成 ES5 的代码。 v5 则现在既可以生成 ES5 又可以生成 ES6/ES2015 代码。</p><p>只支持现代浏览器，将使用箭头函数生成更短的代码，使用 <code>const</code> 声明与 <code>export default</code> 生成更符合规范的代码。</p><h3 id="改进-target-配置" tabindex="-1"><a class="header-anchor" href="#改进-target-配置" aria-hidden="true">#</a> 改进 target 配置</h3><p>在 v4 中，<code>target</code> 是在 <code>web</code> 和 <code>node</code> 之间的一个粗略的选择。 v5 有更多的选择。</p><p>现在的 <code>target</code> 比以前影响了更多关于生成代码的事情。</p><ul><li>代码块加载方法</li><li>代码块的格式</li><li>wasm 加载方法</li><li>代码块与 wasm 在 workers 中加载方法</li><li>被使用的全局对象</li><li><code>publicPath</code> 是否应该被自动确定</li><li>生成的代码中使用的 ECMAScript 特性/语法</li><li><code>externals</code> 是否默认被启用</li><li>一些 Node.js 兼容层的行为(<code>global</code>, <code>__filename</code>, <code>__dirname</code>)</li><li>模块解析(<code>browser</code> 字段、<code>exports</code> 和 <code>imports</code> 条件)</li><li>一些 <code>loader</code> 可能会基于此改变行为</li></ul><p>指定最低版本，例如 <code>node10.13</code>，并推断出更多关于目标环境的属性。</p><p>允许指定多个值，例如 <code>target: [&quot;web&quot;, &quot;es2020&quot;]</code>。</p><p>当项目中存在可用的 <code>browserslist</code> 配置时，这个目标也会被默认使用。 当没有可用的配置时，默认使用 <code>web</code> 目标。</p><h3 id="代码块拆分与模块大小" tabindex="-1"><a class="header-anchor" href="#代码块拆分与模块大小" aria-hidden="true">#</a> 代码块拆分与模块大小</h3><p>现在模块的尺寸比单一的数字更好的表达方式。现在有不同类型的大小。</p><p><code>SplitChunksPlugin</code> 现在知道如何处理这些不同的大小，并将它们用于 <code>minSize</code> 和 <code>maxSize</code>。 默认情况下，只有 javascript 大小被处理，但你现在可以传递多个值来管理它们：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">javascript</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
        <span class="token literal-property property">webassembly</span><span class="token operator">:</span> <span class="token number">50000</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你仍然可以使用一个数字来表示大小。在这种情况下，webpack 会自动使用默认的大小类型。</p><p><code>mini-css-extract-plugin</code> 使用 <code>css/mini-extra</code> 作为大小类型，并将此大小类型自动添加到默认类型中。</p><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_9-性能优化" tabindex="-1"><a class="header-anchor" href="#_9-性能优化" aria-hidden="true">#</a> 9. 性能优化</h2><p>现在有一个文件系统缓存。它是可选的，可以通过以下配置启用：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 将缓存类型设置为文件系统</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;filesystem&#39;</span><span class="token punctuation">,</span>

    <span class="token literal-property property">buildDependencies</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 2. 将你的 config 添加为 buildDependency，以便在改变 config 时获得缓存无效</span>
      <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">[</span>__filename<span class="token punctuation">]</span><span class="token punctuation">,</span>

      <span class="token comment">// 3. 如果你有其他的东西被构建依赖，你可以在这里添加它们</span>
      <span class="token comment">// 注意，webpack、加载器和所有从你的配置中引用的模块都会被自动添加</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重要说明： 默认情况下，webpack 假定 webpack 所在的 <code>node_modules</code> 目录只会被包管理器修改。 对 <code>node_modules</code> 来说，哈希值和时间戳会被跳过。 出于性能考虑，只使用包名和版本。 只要不指定 <code>resolve.symlinks: false</code>，Symlinks(即 <code>npm/yarn link</code> )就没有问题。 不要直接编辑 <code>node_modules</code> 中的文件，除非你用 <code>snapshot.managedPaths: []</code> 以剔除该优化。 当使用 <code>Yarn PnP</code> 时，webpack 假设 yarn 缓存是不可改变的。 你可以使用 <code>snapshot.immutablePaths: []</code> 来退出这个优化。</p><p>缓存将默认存储在 <code>node_modules/.cache/webpack</code>（当使用 node_modules 时）或 <code>.yarn/.cache/webpack</code>（当使用 Yarn PnP 时）中。 当所有的插件都正确处理缓存时，你可能永远都不需要手动删除它。</p><p>许多内部插件也会使用持久性缓存。 例如 <code>SourceMapDevToolPlugin</code> (缓存 SourceMap 的生成)或 <code>ProgressPlugin</code> (缓存模块数量)</p><p>持久性缓存将根据使用情况自动创建多个缓存文件，以优化对缓存的读写访问。</p><p>默认情况下，时间戳将用于开发模式的快照，而文件哈希将用于生产模式。 文件哈希也允许在 CI 中使用持久性缓存。</p><h3 id="编译器闲置和关闭" tabindex="-1"><a class="header-anchor" href="#编译器闲置和关闭" aria-hidden="true">#</a> 编译器闲置和关闭</h3><p>编译器现在需要在使用后关闭。 编译器现在会进入和离开空闲状态，并且有这些状态的钩子。 插件可能会使用这些钩子来做不重要的工作。(即将持久缓存缓慢地将缓存存储到磁盘上)。 在编译器关闭时--所有剩余的工作应该尽可能快地完成。 一个回调标志着关闭完成。</p><p>插件和它们各自的作者应该预料到，有些用户可能会忘记关闭编译器。 所以，所有的工作最终也应该在空闲状态下完成。 当工作正在进行时，应该防止进程退出。</p><p><code>webpack()</code> 用法在被传递回调时自动调用 <code>close</code>。</p><p>迁移时注意：在使用 Node.js API 时，一定要在完成工作后调用 <code>Compiler.close</code>。</p><h3 id="文件生成" tabindex="-1"><a class="header-anchor" href="#文件生成" aria-hidden="true">#</a> 文件生成</h3><p>webpack 过去总是在第一次构建时发出所有的输出文件，但在增量（观察）构建时跳过了写入未更改的文件。 假设在 webpack 运行时，没有任何其他东西改变输出文件。</p><p>增加了持久性缓存后，即使在重启 webpack 进程时，也应该会有类似监听的体验，但如果认为即使在 webpack 不运行时也没有其他东西改变输出目录，那这个假设就太强了。</p><p>所以 webpack 现在会检查输出目录中现有的文件，并将其内容与内存中的输出文件进行比较。 只有当文件被改变时，它才会写入文件。 这只在第一次构建时进行。任何增量构建都会在运行中的 webpack 进程中生成新的资产时写入文件。</p><p>我们假设 webpack 和插件只有在内容被改变时才会生成新的资产。 应该使用缓存来确保在输入相同时不会生成新的资产。 不遵循这个建议会降低性能。</p><p>被标记为 <strong>不可变</strong> 的文件（包括内容哈希），当已经存在一个同名文件时，将永远不会被写入。 我们假设当文件内容发生变化时，内容哈希会发生变化。 这在一般情况下是正确的，但在 webpack 或插件开发过程中可能并不总是如此。</p><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_10-长期未解决的问题" tabindex="-1"><a class="header-anchor" href="#_10-长期未解决的问题" aria-hidden="true">#</a> 10. 长期未解决的问题</h2><h3 id="单一文件目标的代码分割" tabindex="-1"><a class="header-anchor" href="#单一文件目标的代码分割" aria-hidden="true">#</a> 单一文件目标的代码分割</h3><p>只允许启动单个文件的目标（如 node、WebWorker、electron main）现在支持运行时自动加载引导所需的依赖代码片段。</p><p>这允许对这些目标使用 <code>chunks: &quot;all&quot;</code> 和 <code>optimization.runtimeChunk</code>。</p><p>请注意，如果目标的代码块加载是异步的，这使得初始评估也是异步的。 当使用 <code>output.library</code> 时，这可能是一个问题，因为现在导出的值是一个 <code>Promise</code>。</p><h3 id="更新了解析器" tabindex="-1"><a class="header-anchor" href="#更新了解析器" aria-hidden="true">#</a> 更新了解析器</h3><p><code>enhanced-resolve</code> 更新到了 v5，有以下改进：</p><ul><li>追踪更多的依赖关系，比如丢失的文件。</li><li>别名可能有多种选择</li><li>现在可以别名为 false 了。</li><li>支持 <code>exports</code> 和 <code>imports</code> 字段等功能。</li><li>性能提高</li></ul><h3 id="没有-js-的代码块" tabindex="-1"><a class="header-anchor" href="#没有-js-的代码块" aria-hidden="true">#</a> 没有 JS 的代码块</h3><p>不包含 JS 代码的块，将不再生成 JS 文件。 这就允许有只包含 CSS 的代码块。</p><h2 id="_11-实验特性" tabindex="-1"><a class="header-anchor" href="#_11-实验特性" aria-hidden="true">#</a> 11. 实验特性</h2><p>在 v5 中，有一个新的 <code>experiments</code> 配置选项，允许启用实验性功能。 以下的实验功能将随 v5 一起发布：</p><ul><li>旧的 WebAssembly 支持，就像 v4 一样 (<code>experiments.syncWebAssembly</code>)</li><li>根据 <strong>更新的规范</strong>，新增 WebAssembly 支持。 <ul><li>这使得一个 WebAssembly 模块成为一个异步模块。</li></ul></li><li><strong>顶层的 Await</strong> 第三阶段提案(<code>experiments.topLevelAwait</code>) <ul><li>在顶层使用 <code>await</code> 使该模块成为一个异步模块。</li></ul></li><li>以模块的形式生成代码包 (<code>experiments.outputModule</code>) <ul><li>这就从代码包中移除了包装器 IIFE，执行严格模式，通过 <code>&lt;script type=&quot;module&quot;&gt;</code> 进行懒惰加载，并在模块模式下最小化压缩。</li></ul></li></ul><p>请注意，这也意味着 WebAssembly 的支持现在被默认禁用。</p><h3 id="最小-node-js-版本" tabindex="-1"><a class="header-anchor" href="#最小-node-js-版本" aria-hidden="true">#</a> 最小 Node.js 版本</h3><p>最低支持的 Node.js 版本从 6 增加到 10.13.0(LTS)。</p><p>迁移时注意：升级到最新的 Node.js 版本。</p><h2 id="_12-loader-相关变更" tabindex="-1"><a class="header-anchor" href="#_12-loader-相关变更" aria-hidden="true">#</a> 12. loader 相关变更</h2><h3 id="this-getoptions" tabindex="-1"><a class="header-anchor" href="#this-getoptions" aria-hidden="true">#</a> this.getOptions</h3><p>这个新的 API 应该可以简化加载器中选项的使用。 它允许传递 JSON 模式进行验证。</p><h3 id="this-exec" tabindex="-1"><a class="header-anchor" href="#this-exec" aria-hidden="true">#</a> this.exec</h3><p>这一点已从加载器上下文中删除</p><p>迁移时注意：这可以在 loader 内自行实现。</p><h3 id="this-getresolve" tabindex="-1"><a class="header-anchor" href="#this-getresolve" aria-hidden="true">#</a> this.getResolve</h3><p><code>loader API</code> 中的 <code>getResolve(options)</code> 将以另一种方式合并选项，参见 <code>module.rule.resolve</code>。</p><p>由于 v5 在不同的发布依赖关系之间存在差异，所以传递一个 <code>dependencyType</code> 作为选项可能是有意义的（例如 <code>esm</code>，<code>commonjs</code>，或者其他）。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 564469630@qq.com">kangyana</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/fe/webpack/89.html" class="" aria-label="【Q089】为什么需要 webpack"><!--[--><!--]--> 【Q089】为什么需要 webpack <!--[--><!--]--></a></span><span class="next"><a href="/fe/webpack/91.html" class="" aria-label="【Q091】loader"><!--[--><!--]--> 【Q091】loader <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.2a439a8a.js" defer></script>
  </body>
</html>
