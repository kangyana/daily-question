import{_ as o,r as i,o as t,c,b as s,d as a,e,a as l}from"./app.2a439a8a.js";const r={},d=s("h1",{id:"\u3010q132\u3011git-hooks-\u539F\u7406\u662F\u4EC0\u4E48",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u3010q132\u3011git-hooks-\u539F\u7406\u662F\u4EC0\u4E48","aria-hidden":"true"},"#"),e(" \u3010Q132\u3011git hooks \u539F\u7406\u662F\u4EC0\u4E48")],-1),p={class:"custom-container tip"},m=s("p",{class:"custom-container-title"},"Issue",-1),u=e("\u6B22\u8FCE\u5728 Gtihub Issue \u4E2D\u56DE\u7B54\u6B64\u95EE\u9898: "),h={href:"https://github.com/kangyana/daily-question/issues/132",target:"_blank",rel:"noopener noreferrer"},v=e("Issue 132"),b={class:"custom-container tip"},k=s("p",{class:"custom-container-title"},"Author",-1),g=e("\u56DE\u7B54\u8005: "),_={href:"https://github.com/kangyana",target:"_blank",rel:"noopener noreferrer"},f=e("kangyana"),x=l(`<p>git \u5141\u8BB8\u5728\u5404\u79CD\u64CD\u4F5C\u4E4B\u524D\u6DFB\u52A0\u4E00\u4E9B hook \u811A\u672C\uFF0C\u5982\u672A\u6B63\u5E38\u8FD0\u884C\u5219 git \u64CD\u4F5C\u4E0D\u901A\u8FC7\u3002 \u6700\u51FA\u540D\u7684\u8FD8\u662F\u4EE5\u4E0B\u4E24\u4E2A\uFF1A</p><ul><li>precommit</li><li>prepush</li></ul><p>\u800C hook \u811A\u672C\u7F6E\u4E8E\u76EE\u5F55 <code>~/.git/hooks</code> \u4E2D\uFF0C\u4EE5\u53EF\u6267\u884C\u6587\u4EF6\u7684\u5F62\u5F0F\u5B58\u5728\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">ls</span> <span class="token parameter variable">-lah</span> .git/hooks
applypatch-msg.sample     pre-merge-commit.sample
commit-msg.sample         pre-push.sample
fsmonitor-watchman.sample pre-rebase.sample
post-update.sample        pre-receive.sample
pre-applypatch.sample     prepare-commit-msg.sample
pre-commit.sample         update.sample
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53E6\u5916 git hooks \u53EF\u4F7F\u7528 <code>core.hooksPath</code> \u81EA\u5B9A\u4E49\u811A\u672C\u4F4D\u7F6E\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u53EF\u901A\u8FC7\u547D\u4EE4\u884C\u914D\u7F6E core.hooksPath</span>
$ <span class="token function">git</span> config <span class="token string">&#39;core.hooksPath&#39;</span> .husky

<span class="token comment"># \u4E5F\u53EF\u901A\u8FC7\u5199\u5165\u6587\u4EF6\u914D\u7F6E core.hooksPath</span>
$ <span class="token function">cat</span> .git/config
<span class="token punctuation">[</span>core<span class="token punctuation">]</span>
  ignorecase <span class="token operator">=</span> <span class="token boolean">true</span>
  precomposeunicode <span class="token operator">=</span> <span class="token boolean">true</span>
  hooksPath <span class="token operator">=</span> .husky
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u524D\u7AEF\u5DE5\u7A0B\u5316\u4E2D\uFF0C<code>husky</code> \u5373\u901A\u8FC7\u81EA\u5B9A\u4E49 <code>core.hooksPath</code> \u5E76\u5C06 <code>npm scripts</code> \u5199\u5165\u5176\u4E2D\u7684\u65B9\u5F0F\u6765\u5B9E\u73B0\u6B64\u529F\u80FD\u3002</p><p><code>~/.husky</code> \u76EE\u5F55\u4E0B\u624B\u52A8\u521B\u5EFA hook \u811A\u672C\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u624B\u52A8\u521B\u5EFA pre-commit hook</span>
$ <span class="token function">vim</span> .husky/pre-commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 <code>pre-commit</code> \u4E2D\u8FDB\u884C\u4EE3\u7801\u98CE\u683C\u6821\u9A8C\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token function">npm</span> run lint
<span class="token function">npm</span> run <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11);function y(P,I){const n=i("ExternalLinkIcon");return t(),c("div",null,[d,s("div",p,[m,s("p",null,[u,s("a",h,[v,a(n)])])]),s("div",b,[k,s("p",null,[g,s("a",_,[f,a(n)])])]),x])}const V=o(r,[["render",y],["__file","132.html.vue"]]);export{V as default};
