<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/favicon.ico"><title>【Q058】React 组件性能优化 | 每日一题</title><meta name="description" content="每天五分钟，半年大厂中">
    <link rel="modulepreload" href="/assets/app.2a439a8a.js"><link rel="modulepreload" href="/assets/58.html.191166b5.js"><link rel="modulepreload" href="/assets/58.html.b9029f80.js"><link rel="prefetch" href="/assets/index.html.33a0dd68.js"><link rel="prefetch" href="/assets/index.html.b925f0c0.js"><link rel="prefetch" href="/assets/index.html.c56635d4.js"><link rel="prefetch" href="/assets/index.html.06d6c73b.js"><link rel="prefetch" href="/assets/index.html.706f0645.js"><link rel="prefetch" href="/assets/1.html.27edf552.js"><link rel="prefetch" href="/assets/10.html.7383416f.js"><link rel="prefetch" href="/assets/11.html.c6fc238a.js"><link rel="prefetch" href="/assets/12.html.74f259c4.js"><link rel="prefetch" href="/assets/13.html.3c5b4a91.js"><link rel="prefetch" href="/assets/14.html.3115b7e0.js"><link rel="prefetch" href="/assets/15.html.7256db36.js"><link rel="prefetch" href="/assets/16.html.cafc53b2.js"><link rel="prefetch" href="/assets/17.html.aa372369.js"><link rel="prefetch" href="/assets/18.html.0474b67f.js"><link rel="prefetch" href="/assets/19.html.f89775a7.js"><link rel="prefetch" href="/assets/2.html.3e619de4.js"><link rel="prefetch" href="/assets/20.html.81f621f7.js"><link rel="prefetch" href="/assets/21.html.0f46e2af.js"><link rel="prefetch" href="/assets/22.html.a9e4b2a2.js"><link rel="prefetch" href="/assets/23.html.b6594ac1.js"><link rel="prefetch" href="/assets/24.html.2d52bcb9.js"><link rel="prefetch" href="/assets/25.html.7ce4e89d.js"><link rel="prefetch" href="/assets/26.html.b853d8ff.js"><link rel="prefetch" href="/assets/27.html.fc0a4b95.js"><link rel="prefetch" href="/assets/28.html.2df1c443.js"><link rel="prefetch" href="/assets/29.html.3f18c822.js"><link rel="prefetch" href="/assets/3.html.42fb625c.js"><link rel="prefetch" href="/assets/30.html.4de25935.js"><link rel="prefetch" href="/assets/31.html.a9e758c5.js"><link rel="prefetch" href="/assets/32.html.88daf987.js"><link rel="prefetch" href="/assets/33.html.a511cf50.js"><link rel="prefetch" href="/assets/34.html.8692bacc.js"><link rel="prefetch" href="/assets/35.html.13a8eff5.js"><link rel="prefetch" href="/assets/36.html.15364126.js"><link rel="prefetch" href="/assets/37.html.964a0e46.js"><link rel="prefetch" href="/assets/38.html.1a2561fb.js"><link rel="prefetch" href="/assets/39.html.e21e79f6.js"><link rel="prefetch" href="/assets/4.html.fa57b958.js"><link rel="prefetch" href="/assets/40.html.7dac2602.js"><link rel="prefetch" href="/assets/41.html.aa812a6e.js"><link rel="prefetch" href="/assets/42.html.08180a44.js"><link rel="prefetch" href="/assets/43.html.fa761dc5.js"><link rel="prefetch" href="/assets/44.html.b3c5d074.js"><link rel="prefetch" href="/assets/45.html.cac5896d.js"><link rel="prefetch" href="/assets/46.html.7542bd94.js"><link rel="prefetch" href="/assets/47.html.f7cd93c7.js"><link rel="prefetch" href="/assets/48.html.8cd4ba64.js"><link rel="prefetch" href="/assets/49.html.ac96906e.js"><link rel="prefetch" href="/assets/5.html.a03396ed.js"><link rel="prefetch" href="/assets/50.html.a283a0f5.js"><link rel="prefetch" href="/assets/51.html.48530cd8.js"><link rel="prefetch" href="/assets/6.html.d1d3aa70.js"><link rel="prefetch" href="/assets/7.html.c1ee96cf.js"><link rel="prefetch" href="/assets/8.html.e3b8b9c4.js"><link rel="prefetch" href="/assets/9.html.d28ee178.js"><link rel="prefetch" href="/assets/52.html.b7a9e291.js"><link rel="prefetch" href="/assets/53.html.90643b9a.js"><link rel="prefetch" href="/assets/54.html.c3d3670d.js"><link rel="prefetch" href="/assets/55.html.acfba55a.js"><link rel="prefetch" href="/assets/56.html.c19635a4.js"><link rel="prefetch" href="/assets/57.html.fc2eced5.js"><link rel="prefetch" href="/assets/59.html.3b974605.js"><link rel="prefetch" href="/assets/60.html.94914ebc.js"><link rel="prefetch" href="/assets/61.html.0c93953c.js"><link rel="prefetch" href="/assets/62.html.e1ec2c43.js"><link rel="prefetch" href="/assets/63.html.bf7a8245.js"><link rel="prefetch" href="/assets/64.html.0f9c7fc7.js"><link rel="prefetch" href="/assets/65.html.4819adeb.js"><link rel="prefetch" href="/assets/66.html.72630863.js"><link rel="prefetch" href="/assets/67.html.28fb3ee7.js"><link rel="prefetch" href="/assets/68.html.81d8dcc0.js"><link rel="prefetch" href="/assets/69.html.81853ff3.js"><link rel="prefetch" href="/assets/70.html.feecc60d.js"><link rel="prefetch" href="/assets/71.html.670e8d35.js"><link rel="prefetch" href="/assets/72.html.e60ea3ff.js"><link rel="prefetch" href="/assets/73.html.6b233540.js"><link rel="prefetch" href="/assets/74.html.d6352fc7.js"><link rel="prefetch" href="/assets/75.html.d1aab697.js"><link rel="prefetch" href="/assets/76.html.ae78d6a4.js"><link rel="prefetch" href="/assets/77.html.57674b5d.js"><link rel="prefetch" href="/assets/78.html.1cb45461.js"><link rel="prefetch" href="/assets/79.html.352d0f4e.js"><link rel="prefetch" href="/assets/80.html.7235d369.js"><link rel="prefetch" href="/assets/81.html.9d32083d.js"><link rel="prefetch" href="/assets/82.html.5eae198a.js"><link rel="prefetch" href="/assets/83.html.99541ec2.js"><link rel="prefetch" href="/assets/84.html.5bfc7fdc.js"><link rel="prefetch" href="/assets/85.html.0877396f.js"><link rel="prefetch" href="/assets/86.html.093104fc.js"><link rel="prefetch" href="/assets/87.html.68f64f47.js"><link rel="prefetch" href="/assets/88.html.6f80687f.js"><link rel="prefetch" href="/assets/100.html.4ac97423.js"><link rel="prefetch" href="/assets/101.html.fb4ea29a.js"><link rel="prefetch" href="/assets/102.html.7b897450.js"><link rel="prefetch" href="/assets/89.html.5b477b75.js"><link rel="prefetch" href="/assets/90.html.c6d19113.js"><link rel="prefetch" href="/assets/91.html.57f18e44.js"><link rel="prefetch" href="/assets/92.html.e1b3ff3b.js"><link rel="prefetch" href="/assets/93.html.3b211a50.js"><link rel="prefetch" href="/assets/94.html.fc2c94f2.js"><link rel="prefetch" href="/assets/95.html.0a01eb0a.js"><link rel="prefetch" href="/assets/96.html.4d609ab5.js"><link rel="prefetch" href="/assets/97.html.742af4c1.js"><link rel="prefetch" href="/assets/98.html.2e63891f.js"><link rel="prefetch" href="/assets/99.html.ead09ca8.js"><link rel="prefetch" href="/assets/103.html.c06992ef.js"><link rel="prefetch" href="/assets/104.html.b6e07b76.js"><link rel="prefetch" href="/assets/105.html.866f0f1f.js"><link rel="prefetch" href="/assets/106.html.71543481.js"><link rel="prefetch" href="/assets/107.html.de42886d.js"><link rel="prefetch" href="/assets/108.html.e7874e60.js"><link rel="prefetch" href="/assets/109.html.75267470.js"><link rel="prefetch" href="/assets/110.html.7b6b6d62.js"><link rel="prefetch" href="/assets/111.html.d4d222b3.js"><link rel="prefetch" href="/assets/112.html.8f70fea6.js"><link rel="prefetch" href="/assets/113.html.674dc1ef.js"><link rel="prefetch" href="/assets/114.html.0d035239.js"><link rel="prefetch" href="/assets/115.html.2ad11070.js"><link rel="prefetch" href="/assets/116.html.d60d53a5.js"><link rel="prefetch" href="/assets/117.html.2fb46f76.js"><link rel="prefetch" href="/assets/118.html.4ca23aad.js"><link rel="prefetch" href="/assets/119.html.98bc84f3.js"><link rel="prefetch" href="/assets/120.html.2f8b0d2b.js"><link rel="prefetch" href="/assets/121.html.905d04ee.js"><link rel="prefetch" href="/assets/122.html.47c18d11.js"><link rel="prefetch" href="/assets/123.html.490e3ccc.js"><link rel="prefetch" href="/assets/124.html.04527473.js"><link rel="prefetch" href="/assets/125.html.a66d1390.js"><link rel="prefetch" href="/assets/126.html.4a318acd.js"><link rel="prefetch" href="/assets/127.html.4c313fe0.js"><link rel="prefetch" href="/assets/128.html.a4801239.js"><link rel="prefetch" href="/assets/129.html.2c6977df.js"><link rel="prefetch" href="/assets/130.html.81fa94ab.js"><link rel="prefetch" href="/assets/131.html.25394b19.js"><link rel="prefetch" href="/assets/132.html.a5197e99.js"><link rel="prefetch" href="/assets/133.html.e84c7381.js"><link rel="prefetch" href="/assets/134.html.1fd5e16a.js"><link rel="prefetch" href="/assets/135.html.535582dc.js"><link rel="prefetch" href="/assets/136.html.68c8208e.js"><link rel="prefetch" href="/assets/137.html.01590b83.js"><link rel="prefetch" href="/assets/138.html.0671ac5e.js"><link rel="prefetch" href="/assets/139.html.28c6d294.js"><link rel="prefetch" href="/assets/140.html.d04802fa.js"><link rel="prefetch" href="/assets/141.html.59508af4.js"><link rel="prefetch" href="/assets/142.html.ef4e1cda.js"><link rel="prefetch" href="/assets/143.html.8b178ffb.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.681fc8fe.js"><link rel="prefetch" href="/assets/index.html.6fa8ab8c.js"><link rel="prefetch" href="/assets/index.html.8d5f3ff8.js"><link rel="prefetch" href="/assets/index.html.aa4b0f62.js"><link rel="prefetch" href="/assets/index.html.15320177.js"><link rel="prefetch" href="/assets/1.html.4c0fca60.js"><link rel="prefetch" href="/assets/10.html.e02cce84.js"><link rel="prefetch" href="/assets/11.html.86a31a17.js"><link rel="prefetch" href="/assets/12.html.8aca73ff.js"><link rel="prefetch" href="/assets/13.html.5e365985.js"><link rel="prefetch" href="/assets/14.html.0ede8e45.js"><link rel="prefetch" href="/assets/15.html.4d81bcdd.js"><link rel="prefetch" href="/assets/16.html.921a3795.js"><link rel="prefetch" href="/assets/17.html.9e9b3ec4.js"><link rel="prefetch" href="/assets/18.html.4908f3f0.js"><link rel="prefetch" href="/assets/19.html.8906d1ff.js"><link rel="prefetch" href="/assets/2.html.dfe628a0.js"><link rel="prefetch" href="/assets/20.html.c66d654b.js"><link rel="prefetch" href="/assets/21.html.9560d984.js"><link rel="prefetch" href="/assets/22.html.c3375b8d.js"><link rel="prefetch" href="/assets/23.html.edb89c74.js"><link rel="prefetch" href="/assets/24.html.c5a35abc.js"><link rel="prefetch" href="/assets/25.html.770665a6.js"><link rel="prefetch" href="/assets/26.html.ae83bc6b.js"><link rel="prefetch" href="/assets/27.html.45e64add.js"><link rel="prefetch" href="/assets/28.html.4cfe742b.js"><link rel="prefetch" href="/assets/29.html.b77e0ffa.js"><link rel="prefetch" href="/assets/3.html.0a37bbda.js"><link rel="prefetch" href="/assets/30.html.632dd61e.js"><link rel="prefetch" href="/assets/31.html.b6f5ccfc.js"><link rel="prefetch" href="/assets/32.html.5c7aa9df.js"><link rel="prefetch" href="/assets/33.html.2a6f2aa0.js"><link rel="prefetch" href="/assets/34.html.78a46ce0.js"><link rel="prefetch" href="/assets/35.html.66e7cc06.js"><link rel="prefetch" href="/assets/36.html.f5ecffa3.js"><link rel="prefetch" href="/assets/37.html.2f277b1b.js"><link rel="prefetch" href="/assets/38.html.2c51b7e7.js"><link rel="prefetch" href="/assets/39.html.5eabf1f9.js"><link rel="prefetch" href="/assets/4.html.dc9204c2.js"><link rel="prefetch" href="/assets/40.html.7f502342.js"><link rel="prefetch" href="/assets/41.html.a329b462.js"><link rel="prefetch" href="/assets/42.html.240e24a2.js"><link rel="prefetch" href="/assets/43.html.3325681a.js"><link rel="prefetch" href="/assets/44.html.89701cfc.js"><link rel="prefetch" href="/assets/45.html.8192e416.js"><link rel="prefetch" href="/assets/46.html.b3b445c8.js"><link rel="prefetch" href="/assets/47.html.e0c01ac5.js"><link rel="prefetch" href="/assets/48.html.48db9ee4.js"><link rel="prefetch" href="/assets/49.html.30be2bc4.js"><link rel="prefetch" href="/assets/5.html.25573f23.js"><link rel="prefetch" href="/assets/50.html.ed66ad55.js"><link rel="prefetch" href="/assets/51.html.d331d253.js"><link rel="prefetch" href="/assets/6.html.475aa4a9.js"><link rel="prefetch" href="/assets/7.html.b0f8eb80.js"><link rel="prefetch" href="/assets/8.html.1e4261d4.js"><link rel="prefetch" href="/assets/9.html.abedecbf.js"><link rel="prefetch" href="/assets/52.html.7255ccca.js"><link rel="prefetch" href="/assets/53.html.c8311aab.js"><link rel="prefetch" href="/assets/54.html.6a9a168d.js"><link rel="prefetch" href="/assets/55.html.1f7c265f.js"><link rel="prefetch" href="/assets/56.html.0249b7bd.js"><link rel="prefetch" href="/assets/57.html.2861e79b.js"><link rel="prefetch" href="/assets/59.html.b3556d81.js"><link rel="prefetch" href="/assets/60.html.c3b10916.js"><link rel="prefetch" href="/assets/61.html.cc6c74c1.js"><link rel="prefetch" href="/assets/62.html.3903e498.js"><link rel="prefetch" href="/assets/63.html.c2b1ddd6.js"><link rel="prefetch" href="/assets/64.html.53e03f91.js"><link rel="prefetch" href="/assets/65.html.1cab6937.js"><link rel="prefetch" href="/assets/66.html.2ae15a6e.js"><link rel="prefetch" href="/assets/67.html.a935be4c.js"><link rel="prefetch" href="/assets/68.html.0db9fe79.js"><link rel="prefetch" href="/assets/69.html.ce04698f.js"><link rel="prefetch" href="/assets/70.html.ed1f6b94.js"><link rel="prefetch" href="/assets/71.html.d282f838.js"><link rel="prefetch" href="/assets/72.html.9fd08a5c.js"><link rel="prefetch" href="/assets/73.html.71303c99.js"><link rel="prefetch" href="/assets/74.html.b917eb68.js"><link rel="prefetch" href="/assets/75.html.e67993e8.js"><link rel="prefetch" href="/assets/76.html.8aab3f55.js"><link rel="prefetch" href="/assets/77.html.50c38304.js"><link rel="prefetch" href="/assets/78.html.1c723006.js"><link rel="prefetch" href="/assets/79.html.b4c81d9f.js"><link rel="prefetch" href="/assets/80.html.5b4ffc97.js"><link rel="prefetch" href="/assets/81.html.1d2adbd2.js"><link rel="prefetch" href="/assets/82.html.e434a2f9.js"><link rel="prefetch" href="/assets/83.html.c82691a9.js"><link rel="prefetch" href="/assets/84.html.9cb88a47.js"><link rel="prefetch" href="/assets/85.html.740b3123.js"><link rel="prefetch" href="/assets/86.html.dbf629cb.js"><link rel="prefetch" href="/assets/87.html.7bf52b15.js"><link rel="prefetch" href="/assets/88.html.651b5d27.js"><link rel="prefetch" href="/assets/100.html.ff134673.js"><link rel="prefetch" href="/assets/101.html.af312988.js"><link rel="prefetch" href="/assets/102.html.c84337a2.js"><link rel="prefetch" href="/assets/89.html.a4aca3d8.js"><link rel="prefetch" href="/assets/90.html.d82ca3bf.js"><link rel="prefetch" href="/assets/91.html.7a2a749f.js"><link rel="prefetch" href="/assets/92.html.9dd0ce16.js"><link rel="prefetch" href="/assets/93.html.c1f14bbc.js"><link rel="prefetch" href="/assets/94.html.ca59bc1f.js"><link rel="prefetch" href="/assets/95.html.95472b81.js"><link rel="prefetch" href="/assets/96.html.5f780378.js"><link rel="prefetch" href="/assets/97.html.03eb13af.js"><link rel="prefetch" href="/assets/98.html.eb98f367.js"><link rel="prefetch" href="/assets/99.html.e16a6723.js"><link rel="prefetch" href="/assets/103.html.8025352a.js"><link rel="prefetch" href="/assets/104.html.d59ac089.js"><link rel="prefetch" href="/assets/105.html.5ad3bdf0.js"><link rel="prefetch" href="/assets/106.html.41f2e13c.js"><link rel="prefetch" href="/assets/107.html.835dce17.js"><link rel="prefetch" href="/assets/108.html.2133dceb.js"><link rel="prefetch" href="/assets/109.html.9489f03a.js"><link rel="prefetch" href="/assets/110.html.c94c7102.js"><link rel="prefetch" href="/assets/111.html.c71a82da.js"><link rel="prefetch" href="/assets/112.html.2a777eaf.js"><link rel="prefetch" href="/assets/113.html.dd00f2e4.js"><link rel="prefetch" href="/assets/114.html.e638b632.js"><link rel="prefetch" href="/assets/115.html.861d5084.js"><link rel="prefetch" href="/assets/116.html.1714f751.js"><link rel="prefetch" href="/assets/117.html.924f065a.js"><link rel="prefetch" href="/assets/118.html.af26f91a.js"><link rel="prefetch" href="/assets/119.html.a050c713.js"><link rel="prefetch" href="/assets/120.html.d662b8ef.js"><link rel="prefetch" href="/assets/121.html.15a694af.js"><link rel="prefetch" href="/assets/122.html.2debd177.js"><link rel="prefetch" href="/assets/123.html.210a181d.js"><link rel="prefetch" href="/assets/124.html.141bd2dd.js"><link rel="prefetch" href="/assets/125.html.8f31107a.js"><link rel="prefetch" href="/assets/126.html.100e7740.js"><link rel="prefetch" href="/assets/127.html.375467ef.js"><link rel="prefetch" href="/assets/128.html.e0671271.js"><link rel="prefetch" href="/assets/129.html.6c6bfa58.js"><link rel="prefetch" href="/assets/130.html.e505df36.js"><link rel="prefetch" href="/assets/131.html.8d700c97.js"><link rel="prefetch" href="/assets/132.html.faddc01f.js"><link rel="prefetch" href="/assets/133.html.88e3c00d.js"><link rel="prefetch" href="/assets/134.html.baee83bd.js"><link rel="prefetch" href="/assets/135.html.9ea35886.js"><link rel="prefetch" href="/assets/136.html.cf991682.js"><link rel="prefetch" href="/assets/137.html.c3208264.js"><link rel="prefetch" href="/assets/138.html.8f9d8cd4.js"><link rel="prefetch" href="/assets/139.html.ac25d7f7.js"><link rel="prefetch" href="/assets/140.html.81522b10.js"><link rel="prefetch" href="/assets/141.html.53a1b0f3.js"><link rel="prefetch" href="/assets/142.html.fc81d982.js"><link rel="prefetch" href="/assets/143.html.ad335aaa.js"><link rel="prefetch" href="/assets/404.html.58783704.js">
    <link rel="stylesheet" href="/assets/style.f4d22aab.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">每日一题</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/fe" class="router-link-active" aria-label="前端基础"><!--[--><!--]--> 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/editor" class="" aria-label="编辑器"><!--[--><!--]--> 编辑器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/3d" class="" aria-label="3d"><!--[--><!--]--> 3d <!--[--><!--]--></a></div><div class="navbar-item"><a href="/media" class="" aria-label="音媒体"><!--[--><!--]--> 音媒体 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/kangyana/daily-question" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/fe" class="router-link-active" aria-label="前端基础"><!--[--><!--]--> 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/editor" class="" aria-label="编辑器"><!--[--><!--]--> 编辑器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/3d" class="" aria-label="3d"><!--[--><!--]--> 3d <!--[--><!--]--></a></div><div class="navbar-item"><a href="/media" class="" aria-label="音媒体"><!--[--><!--]--> 音媒体 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/kangyana/daily-question" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/fe" class="router-link-active sidebar-item sidebar-heading" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">javascript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/javascript/1.html" class="sidebar-item" aria-label="【Q001】js 有几种基本的数据类型"><!--[--><!--]--> 【Q001】js 有几种基本的数据类型 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/2.html" class="sidebar-item" aria-label="【Q002】如何判断 js 数据类型"><!--[--><!--]--> 【Q002】如何判断 js 数据类型 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/3.html" class="sidebar-item" aria-label="【Q003】typeof和instanceof的区别"><!--[--><!--]--> 【Q003】typeof和instanceof的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/4.html" class="sidebar-item" aria-label="【Q004】如何判断一个变量是不是Array"><!--[--><!--]--> 【Q004】如何判断一个变量是不是Array <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/5.html" class="sidebar-item" aria-label="【Q005】==和===有什么不同"><!--[--><!--]--> 【Q005】==和===有什么不同 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/6.html" class="sidebar-item" aria-label="【Q006】事件机制"><!--[--><!--]--> 【Q006】事件机制 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/7.html" class="sidebar-item" aria-label="【Q007】事件委托"><!--[--><!--]--> 【Q007】事件委托 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/8.html" class="sidebar-item" aria-label="【Q008】e.preventDefault()是干什么的"><!--[--><!--]--> 【Q008】e.preventDefault()是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/9.html" class="sidebar-item" aria-label="【Q009】JS中this是如何工作的"><!--[--><!--]--> 【Q009】JS中this是如何工作的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/10.html" class="sidebar-item" aria-label="【Q010】apply、call、bind的区别，及源码实现"><!--[--><!--]--> 【Q010】apply、call、bind的区别，及源码实现 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/11.html" class="sidebar-item" aria-label="【Q011】js中new关键字原理"><!--[--><!--]--> 【Q011】js中new关键字原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/12.html" class="sidebar-item" aria-label="【Q012】JS 中继承是如何实现的"><!--[--><!--]--> 【Q012】JS 中继承是如何实现的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/13.html" class="sidebar-item" aria-label="【Q013】JS 原型和原型链"><!--[--><!--]--> 【Q013】JS 原型和原型链 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/14.html" class="sidebar-item" aria-label="【Q014】闭包与作用域链"><!--[--><!--]--> 【Q014】闭包与作用域链 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/15.html" class="sidebar-item" aria-label="【Q015】let、const、var的区别"><!--[--><!--]--> 【Q015】let、const、var的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/16.html" class="sidebar-item" aria-label="【Q016】JS 中变量声明提升"><!--[--><!--]--> 【Q016】JS 中变量声明提升 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/17.html" class="sidebar-item" aria-label="【Q017】JS 模块化"><!--[--><!--]--> 【Q017】JS 模块化 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/18.html" class="sidebar-item" aria-label="【Q018】IIFE 立即执行函数"><!--[--><!--]--> 【Q018】IIFE 立即执行函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/19.html" class="sidebar-item" aria-label="【Q019】匿名函数"><!--[--><!--]--> 【Q019】匿名函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/20.html" class="sidebar-item" aria-label="【Q020】箭头函数"><!--[--><!--]--> 【Q020】箭头函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/21.html" class="sidebar-item" aria-label="【Q021】函数柯里化"><!--[--><!--]--> 【Q021】函数柯里化 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/22.html" class="sidebar-item" aria-label="【Q022】Promise"><!--[--><!--]--> 【Q022】Promise <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/23.html" class="sidebar-item" aria-label="【Q023】async/await"><!--[--><!--]--> 【Q023】async/await <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/24.html" class="sidebar-item" aria-label="【Q024】Generator"><!--[--><!--]--> 【Q024】Generator <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/25.html" class="sidebar-item" aria-label="【Q025】对象遍历 和 数组遍历"><!--[--><!--]--> 【Q025】对象遍历 和 数组遍历 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/26.html" class="sidebar-item" aria-label="【Q026】常见的数组方法"><!--[--><!--]--> 【Q026】常见的数组方法 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/27.html" class="sidebar-item" aria-label="【Q027】Ajax 工作原理"><!--[--><!--]--> 【Q027】Ajax 工作原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/28.html" class="sidebar-item" aria-label="【Q028】fetch"><!--[--><!--]--> 【Q028】fetch <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/29.html" class="sidebar-item" aria-label="【Q029】同源策略（same-origin policy）"><!--[--><!--]--> 【Q029】同源策略（same-origin policy） <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/30.html" class="sidebar-item" aria-label="【Q030】JS strict模式"><!--[--><!--]--> 【Q030】JS strict模式 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/31.html" class="sidebar-item" aria-label="【Q031】cookie"><!--[--><!--]--> 【Q031】cookie <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/32.html" class="sidebar-item" aria-label="【Q032】sessionStorage、localStorage"><!--[--><!--]--> 【Q032】sessionStorage、localStorage <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/33.html" class="sidebar-item" aria-label="【Q032】IndexedDB"><!--[--><!--]--> 【Q032】IndexedDB <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/34.html" class="sidebar-item" aria-label="【Q034】web worker"><!--[--><!--]--> 【Q034】web worker <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/35.html" class="sidebar-item" aria-label="【Q035】请解释什么是单页面应用"><!--[--><!--]--> 【Q035】请解释什么是单页面应用 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/36.html" class="sidebar-item" aria-label="【Q036】可变对象和不可变对象"><!--[--><!--]--> 【Q036】可变对象和不可变对象 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/37.html" class="sidebar-item" aria-label="【Q037】什么是事件循环（event loop）"><!--[--><!--]--> 【Q037】什么是事件循环（event loop） <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/38.html" class="sidebar-item" aria-label="【Q038】创建对象有几种方法"><!--[--><!--]--> 【Q038】创建对象有几种方法 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/39.html" class="sidebar-item" aria-label="【Q039】深拷贝和浅拷贝"><!--[--><!--]--> 【Q039】深拷贝和浅拷贝 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/40.html" class="sidebar-item" aria-label="【Q040】网页各种高度"><!--[--><!--]--> 【Q040】网页各种高度 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/41.html" class="sidebar-item" aria-label="【Q041】requestAnimationFrame"><!--[--><!--]--> 【Q041】requestAnimationFrame <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/42.html" class="sidebar-item" aria-label="【Q042】requestIdleCallback"><!--[--><!--]--> 【Q042】requestIdleCallback <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/43.html" class="sidebar-item" aria-label="【Q043】webassembly"><!--[--><!--]--> 【Q043】webassembly <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/44.html" class="sidebar-item" aria-label="【Q044】垃圾回收"><!--[--><!--]--> 【Q044】垃圾回收 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/45.html" class="sidebar-item" aria-label="【Q045】proxy"><!--[--><!--]--> 【Q045】proxy <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/46.html" class="sidebar-item" aria-label="【Q046】Object.defineProperty"><!--[--><!--]--> 【Q046】Object.defineProperty <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/47.html" class="sidebar-item" aria-label="【Q047】map set"><!--[--><!--]--> 【Q047】map set <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/48.html" class="sidebar-item" aria-label="【Q048】null 和 undefined 的区别"><!--[--><!--]--> 【Q048】null 和 undefined 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/49.html" class="sidebar-item" aria-label="【Q049】symbol"><!--[--><!--]--> 【Q049】symbol <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/50.html" class="sidebar-item" aria-label="【Q050】Object.assign"><!--[--><!--]--> 【Q050】Object.assign <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/51.html" class="sidebar-item" aria-label="【Q051】常见的 DOM 方法"><!--[--><!--]--> 【Q051】常见的 DOM 方法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">react <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/fe/react/52.html" class="sidebar-item" aria-label="【Q052】React 17、React 18新特性"><!--[--><!--]--> 【Q052】React 17、React 18新特性 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/53.html" class="sidebar-item" aria-label="【Q053】虚拟 DOM 是什么？以及 Diff 算法原理"><!--[--><!--]--> 【Q053】虚拟 DOM 是什么？以及 Diff 算法原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/54.html" class="sidebar-item" aria-label="【Q054】key 是干什么的"><!--[--><!--]--> 【Q054】key 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/55.html" class="sidebar-item" aria-label="【Q055】Fiber"><!--[--><!--]--> 【Q055】Fiber <!--[--><!--]--></a><!----></li><li><a href="/fe/react/56.html" class="sidebar-item" aria-label="【Q056】React 事件机制和原生事件机制的关系"><!--[--><!--]--> 【Q056】React 事件机制和原生事件机制的关系 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/57.html" class="sidebar-item" aria-label="【Q057】React 生命周期"><!--[--><!--]--> 【Q057】React 生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fe/react/58.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="【Q058】React 组件性能优化"><!--[--><!--]--> 【Q058】React 组件性能优化 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/59.html" class="sidebar-item" aria-label="【Q059】React.memo"><!--[--><!--]--> 【Q059】React.memo <!--[--><!--]--></a><!----></li><li><a href="/fe/react/60.html" class="sidebar-item" aria-label="【Q060】props.children"><!--[--><!--]--> 【Q060】props.children <!--[--><!--]--></a><!----></li><li><a href="/fe/react/61.html" class="sidebar-item" aria-label="【Q061】content"><!--[--><!--]--> 【Q061】content <!--[--><!--]--></a><!----></li><li><a href="/fe/react/62.html" class="sidebar-item" aria-label="【Q062】setState 是同步还是异步？"><!--[--><!--]--> 【Q062】setState 是同步还是异步？ <!--[--><!--]--></a><!----></li><li><a href="/fe/react/63.html" class="sidebar-item" aria-label="【Q063】setState 批更新"><!--[--><!--]--> 【Q063】setState 批更新 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/64.html" class="sidebar-item" aria-label="【Q064】组件通信"><!--[--><!--]--> 【Q064】组件通信 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/65.html" class="sidebar-item" aria-label="【Q065】高阶组件原理"><!--[--><!--]--> 【Q065】高阶组件原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/66.html" class="sidebar-item" aria-label="【Q066】受控组件和非受控组件"><!--[--><!--]--> 【Q066】受控组件和非受控组件 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/67.html" class="sidebar-item" aria-label="【Q067】为什么要是用 React Hooks?"><!--[--><!--]--> 【Q067】为什么要是用 React Hooks? <!--[--><!--]--></a><!----></li><li><a href="/fe/react/68.html" class="sidebar-item" aria-label="【Q068】React Hooks 实现原理"><!--[--><!--]--> 【Q068】React Hooks 实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/69.html" class="sidebar-item" aria-label="【Q069】React Hooks 使用原则，以及为什么"><!--[--><!--]--> 【Q069】React Hooks 使用原则，以及为什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/70.html" class="sidebar-item" aria-label="【Q070】React Hooks 使用中常见问题"><!--[--><!--]--> 【Q070】React Hooks 使用中常见问题 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/71.html" class="sidebar-item" aria-label="【Q071】官方自带的 Hooks"><!--[--><!--]--> 【Q071】官方自带的 Hooks <!--[--><!--]--></a><!----></li><li><a href="/fe/react/72.html" class="sidebar-item" aria-label="【Q072】useEffect 和 useLayoutEffect 的区别"><!--[--><!--]--> 【Q072】useEffect 和 useLayoutEffect 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/73.html" class="sidebar-item" aria-label="【Q073】useMemo 和 useCallback 的区别"><!--[--><!--]--> 【Q073】useMemo 和 useCallback 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/74.html" class="sidebar-item" aria-label="【Q074】如何自己封装一个 Hooks"><!--[--><!--]--> 【Q074】如何自己封装一个 Hooks <!--[--><!--]--></a><!----></li><li><a href="/fe/react/75.html" class="sidebar-item" aria-label="【Q075】Suspense"><!--[--><!--]--> 【Q075】Suspense <!--[--><!--]--></a><!----></li><li><a href="/fe/react/76.html" class="sidebar-item" aria-label="【Q076】Concurrent"><!--[--><!--]--> 【Q076】Concurrent <!--[--><!--]--></a><!----></li><li><a href="/fe/react/77.html" class="sidebar-item" aria-label="【Q077】startTransition"><!--[--><!--]--> 【Q077】startTransition <!--[--><!--]--></a><!----></li><li><a href="/fe/react/78.html" class="sidebar-item" aria-label="【Q078】Server Component"><!--[--><!--]--> 【Q078】Server Component <!--[--><!--]--></a><!----></li><li><a href="/fe/react/79.html" class="sidebar-item" aria-label="【Q079】componentDidCatch"><!--[--><!--]--> 【Q079】componentDidCatch <!--[--><!--]--></a><!----></li><li><a href="/fe/react/80.html" class="sidebar-item" aria-label="【Q080】SSR"><!--[--><!--]--> 【Q080】SSR <!--[--><!--]--></a><!----></li><li><a href="/fe/react/81.html" class="sidebar-item" aria-label="【Q081】为什么需要用 redux"><!--[--><!--]--> 【Q081】为什么需要用 redux <!--[--><!--]--></a><!----></li><li><a href="/fe/react/82.html" class="sidebar-item" aria-label="【Q082】react-redux 是干什么的"><!--[--><!--]--> 【Q082】react-redux 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/83.html" class="sidebar-item" aria-label="【Q083】react-redux connect 实现原理"><!--[--><!--]--> 【Q083】react-redux connect 实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/84.html" class="sidebar-item" aria-label="【Q084】redux 工作流程及原理"><!--[--><!--]--> 【Q084】redux 工作流程及原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/85.html" class="sidebar-item" aria-label="【Q085】有没有用过其它状态管理器？以及原理"><!--[--><!--]--> 【Q085】有没有用过其它状态管理器？以及原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/86.html" class="sidebar-item" aria-label="【Q086】react-router 路由实现原理"><!--[--><!--]--> 【Q086】react-router 路由实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/87.html" class="sidebar-item" aria-label="【Q087】react-router 有几种路由类型？"><!--[--><!--]--> 【Q087】react-router 有几种路由类型？ <!--[--><!--]--></a><!----></li><li><a href="/fe/react/88.html" class="sidebar-item" aria-label="【Q088】项目本地开发完成后部署到服务器后报 404"><!--[--><!--]--> 【Q088】项目本地开发完成后部署到服务器后报 404 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">webpack <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/webpack/89.html" class="sidebar-item" aria-label="【Q089】为什么需要 webpack"><!--[--><!--]--> 【Q089】为什么需要 webpack <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/90.html" class="sidebar-item" aria-label="【Q090】webpack 5 新特性"><!--[--><!--]--> 【Q090】webpack 5 新特性 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/91.html" class="sidebar-item" aria-label="【Q091】loader"><!--[--><!--]--> 【Q091】loader <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/92.html" class="sidebar-item" aria-label="【Q092】plugin"><!--[--><!--]--> 【Q092】plugin <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/93.html" class="sidebar-item" aria-label="【Q093】tree shaking"><!--[--><!--]--> 【Q093】tree shaking <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/94.html" class="sidebar-item" aria-label="【Q094】常见的配置项"><!--[--><!--]--> 【Q094】常见的配置项 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/95.html" class="sidebar-item" aria-label="【Q095】publicPath 是干什么的"><!--[--><!--]--> 【Q095】publicPath 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/96.html" class="sidebar-item" aria-label="【Q096】打包很慢，怎么解决"><!--[--><!--]--> 【Q096】打包很慢，怎么解决 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/97.html" class="sidebar-item" aria-label="【Q097】打包出来的文件很大，怎么解决？"><!--[--><!--]--> 【Q097】打包出来的文件很大，怎么解决？ <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/98.html" class="sidebar-item" aria-label="【Q098】模块联邦"><!--[--><!--]--> 【Q098】模块联邦 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/99.html" class="sidebar-item" aria-label="【Q099】HMR 原理"><!--[--><!--]--> 【Q099】HMR 原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/100.html" class="sidebar-item" aria-label="【Q100】有了解过现在流行的 bundleless 构建工具吗？"><!--[--><!--]--> 【Q100】有了解过现在流行的 bundleless 构建工具吗？ <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/101.html" class="sidebar-item" aria-label="【Q101】vite 原理"><!--[--><!--]--> 【Q101】vite 原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/102.html" class="sidebar-item" aria-label="【Q102】sourceMap"><!--[--><!--]--> 【Q102】sourceMap <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">工程化 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/工程化/103.html" class="sidebar-item" aria-label="【Q103】打包时 cjs、es、umd 模块有何不同"><!--[--><!--]--> 【Q103】打包时 cjs、es、umd 模块有何不同 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/104.html" class="sidebar-item" aria-label="【Q104】什么是 AST，及其应用"><!--[--><!--]--> 【Q104】什么是 AST，及其应用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/105.html" class="sidebar-item" aria-label="【Q105】webpack 的 runtime 做了什么事情"><!--[--><!--]--> 【Q105】webpack 的 runtime 做了什么事情 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/106.html" class="sidebar-item" aria-label="【Q106】webpack 中的 code spliting 是如何动态加载 chunk 的？"><!--[--><!--]--> 【Q106】webpack 中的 code spliting 是如何动态加载 chunk 的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/107.html" class="sidebar-item" aria-label="【Q107】打包器 如何加载 json、image 等非 Javascript 资源"><!--[--><!--]--> 【Q107】打包器 如何加载 json、image 等非 Javascript 资源 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/108.html" class="sidebar-item" aria-label="【Q108】打包器 如何加载 style 样式资源"><!--[--><!--]--> 【Q108】打包器 如何加载 style 样式资源 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/109.html" class="sidebar-item" aria-label="【Q109】打包器 如何将打包后的 js 资源注入 html 中"><!--[--><!--]--> 【Q109】打包器 如何将打包后的 js 资源注入 html 中 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/110.html" class="sidebar-item" aria-label="【Q110】webpack 中什么是 HMR，原理是什么"><!--[--><!--]--> 【Q110】webpack 中什么是 HMR，原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/111.html" class="sidebar-item" aria-label="【Q111】如何提升 webpack 构建资源的速度"><!--[--><!--]--> 【Q111】如何提升 webpack 构建资源的速度 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/112.html" class="sidebar-item" aria-label="【Q112】如何分析前端打包体积"><!--[--><!--]--> 【Q112】如何分析前端打包体积 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/113.html" class="sidebar-item" aria-label="【Q113】js 代码压缩 minify 的原理是什么"><!--[--><!--]--> 【Q113】js 代码压缩 minify 的原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/114.html" class="sidebar-item" aria-label="【Q114】Tree Shaking 的原理是什么"><!--[--><!--]--> 【Q114】Tree Shaking 的原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/115.html" class="sidebar-item" aria-label="【Q115】core-js 是做什么用的？"><!--[--><!--]--> 【Q115】core-js 是做什么用的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/116.html" class="sidebar-item" aria-label="【Q116】browserslist 是做什么的？"><!--[--><!--]--> 【Q116】browserslist 是做什么的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/117.html" class="sidebar-item" aria-label="【Q117】浏览器中如何使用原生的 ESM"><!--[--><!--]--> 【Q117】浏览器中如何使用原生的 ESM <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/118.html" class="sidebar-item" aria-label="【Q118】如何将 CommonJS 转化为 ESM"><!--[--><!--]--> 【Q118】如何将 CommonJS 转化为 ESM <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/119.html" class="sidebar-item" aria-label="【Q119】简述 bundless 的优势与不足"><!--[--><!--]--> 【Q119】简述 bundless 的优势与不足 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/120.html" class="sidebar-item" aria-label="【Q120】什么是 semver，~1.2.3 与 ^1.2.3 的版本号范围是多少"><!--[--><!--]--> 【Q120】什么是 semver，~1.2.3 与 ^1.2.3 的版本号范围是多少 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/121.html" class="sidebar-item" aria-label="【Q121】package.json 中 main/module/browser/exports 字段"><!--[--><!--]--> 【Q121】package.json 中 main/module/browser/exports 字段 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/122.html" class="sidebar-item" aria-label="【Q122】dependencies 与 devDependencies 有何区别"><!--[--><!--]--> 【Q122】dependencies 与 devDependencies 有何区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/123.html" class="sidebar-item" aria-label="【Q123】如何为一个项目指定 node 版本号"><!--[--><!--]--> 【Q123】如何为一个项目指定 node 版本号 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/124.html" class="sidebar-item" aria-label="【Q124】简述 npm script 的生命周期"><!--[--><!--]--> 【Q124】简述 npm script 的生命周期 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/125.html" class="sidebar-item" aria-label="【Q125】如何对 npm package 进行发包"><!--[--><!--]--> 【Q125】如何对 npm package 进行发包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/126.html" class="sidebar-item" aria-label="【Q126】package-lock.json 有什么作用"><!--[--><!--]--> 【Q126】package-lock.json 有什么作用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/127.html" class="sidebar-item" aria-label="【Q127】npm 第三方库需要提交 lockfile 吗"><!--[--><!--]--> 【Q127】npm 第三方库需要提交 lockfile 吗 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/128.html" class="sidebar-item" aria-label="【Q128】简述 npm cache"><!--[--><!--]--> 【Q128】简述 npm cache <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/129.html" class="sidebar-item" aria-label="【Q129】node_modules 的目录结构(拓扑结构)"><!--[--><!--]--> 【Q129】node_modules 的目录结构(拓扑结构) <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/130.html" class="sidebar-item" aria-label="【Q130】pnpm 有什么优势"><!--[--><!--]--> 【Q130】pnpm 有什么优势 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/131.html" class="sidebar-item" aria-label="【Q131】请问什么是 CICD"><!--[--><!--]--> 【Q131】请问什么是 CICD <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/132.html" class="sidebar-item" aria-label="【Q132】git hooks 原理是什么"><!--[--><!--]--> 【Q132】git hooks 原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/133.html" class="sidebar-item" aria-label="【Q133】如何检测出你们安装的依赖是否安全"><!--[--><!--]--> 【Q133】如何检测出你们安装的依赖是否安全 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/134.html" class="sidebar-item" aria-label="【Q134】在项目中，如何平滑升级 npm 包"><!--[--><!--]--> 【Q134】在项目中，如何平滑升级 npm 包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/135.html" class="sidebar-item" aria-label="【Q135】请简述下 eslint 的作用"><!--[--><!--]--> 【Q135】请简述下 eslint 的作用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/136.html" class="sidebar-item" aria-label="【Q136】如何修复某个 npm 包的紧急 bug"><!--[--><!--]--> 【Q136】如何修复某个 npm 包的紧急 bug <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/137.html" class="sidebar-item" aria-label="【Q137】使用 webpack 打包时，如何更好地利用 long term cache"><!--[--><!--]--> 【Q137】使用 webpack 打包时，如何更好地利用 long term cache <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/138.html" class="sidebar-item" aria-label="【Q138】前端如何进行高效的分包"><!--[--><!--]--> 【Q138】前端如何进行高效的分包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/139.html" class="sidebar-item" aria-label="【Q139】如何使用 docker 部署前端"><!--[--><!--]--> 【Q139】如何使用 docker 部署前端 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/140.html" class="sidebar-item" aria-label="【Q140】前端如何对分支环境进行部署"><!--[--><!--]--> 【Q140】前端如何对分支环境进行部署 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">算法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/算法/141.html" class="sidebar-item" aria-label="【Q141】阿里云笔试"><!--[--><!--]--> 【Q141】阿里云笔试 <!--[--><!--]--></a><!----></li><li><a href="/fe/算法/142.html" class="sidebar-item" aria-label="【Q142】CVTE笔试"><!--[--><!--]--> 【Q142】CVTE笔试 <!--[--><!--]--></a><!----></li><li><a href="/fe/算法/143.html" class="sidebar-item" aria-label="【Q143】阿里笔试"><!--[--><!--]--> 【Q143】阿里笔试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="【q058】react-组件性能优化" tabindex="-1"><a class="header-anchor" href="#【q058】react-组件性能优化" aria-hidden="true">#</a> 【Q058】React 组件性能优化</h1><div class="custom-container tip"><p class="custom-container-title">Issue</p><p>欢迎在 Gtihub Issue 中回答此问题: <a href="https://github.com/kangyana/daily-question/issues/58" target="_blank" rel="noopener noreferrer">Issue 58<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><p>React 组件性能优化的核心是减少渲染真实DOM 节点的频率，减少 Virtual DOM对比的频率。</p><h2 id="_1-组件卸载前进行清理操作" tabindex="-1"><a class="header-anchor" href="#_1-组件卸载前进行清理操作" aria-hidden="true">#</a> 1. 组件卸载前进行清理操作</h2><p>在组件中为 window 注册的全局事件, 以及定时器, 在组件卸载前要清理掉, 防止组件卸载后继续执行影响应用性能。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer is running...&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token comment">// 负责执行清理操作</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-purecomponent-纯组件" tabindex="-1"><a class="header-anchor" href="#_2-purecomponent-纯组件" aria-hidden="true">#</a> 2. PureComponent 纯组件</h2><h3 id="什么是纯组件" tabindex="-1"><a class="header-anchor" href="#什么是纯组件" aria-hidden="true">#</a> 什么是纯组件</h3><p>纯组件会对组件输入数据进行浅层比较，如果当前输入数据和上次输入数据相同，组件不会重新渲染。</p><h3 id="什么是浅层比较" tabindex="-1"><a class="header-anchor" href="#什么是浅层比较" aria-hidden="true">#</a> 什么是浅层比较</h3><p>比较引用数据类型在内存中的引用地址是否相同，比较基本数据类型的值是否相同。</p><h3 id="如何实现纯组件" tabindex="-1"><a class="header-anchor" href="#如何实现纯组件" aria-hidden="true">#</a> 如何实现纯组件</h3><p>类组件继承 <code>PureComponent</code> 类，函数组件使用 <code>memo</code> 方法</p><h3 id="为什么不直接进行-diff-操作-而是要先进行浅层比较-浅层比较难道没有性能消耗吗" tabindex="-1"><a class="header-anchor" href="#为什么不直接进行-diff-操作-而是要先进行浅层比较-浅层比较难道没有性能消耗吗" aria-hidden="true">#</a> 为什么不直接进行 diff 操作, 而是要先进行浅层比较，浅层比较难道没有性能消耗吗</h3><p>和进行 <code>diff</code> 比较操作相比，浅层比较将消耗更少的性能。 <code>diff</code> 操作会重新遍历整颗 <code>virtualDOM</code> 树, 而浅层比较只操作当前组件的 <code>state</code> 和 <code>props</code>。</p><h2 id="_3-shouldcomponentupdate" tabindex="-1"><a class="header-anchor" href="#_3-shouldcomponentupdate" aria-hidden="true">#</a> 3. shouldComponentUpdate</h2><p>纯组件只能进行浅层比较，要进行深层比较，使用 <code>shouldComponentUpdate</code>，它用于编写自定义比较逻辑。 返回 <code>true</code> 重新渲染组件，返回 <code>false</code> 阻止重新渲染。 函数的第一个参数为 <code>nextProps</code>, 第二个参数为 <code>nextState</code>。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name <span class="token operator">!==</span> nextState<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>age <span class="token operator">!==</span> nextState<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-react-memo" tabindex="-1"><a class="header-anchor" href="#_4-react-memo" aria-hidden="true">#</a> 4. React.memo</h2><h3 id="memo-基本使用" tabindex="-1"><a class="header-anchor" href="#memo-基本使用" aria-hidden="true">#</a> memo 基本使用</h3><p>将函数组件变为纯组件，将当前 <code>props</code> 和上一次的 <code>props</code> 进行浅层比较，如果相同就阻止组件重新渲染。</p><h3 id="为-memo-传递比较逻辑" tabindex="-1"><a class="header-anchor" href="#为-memo-传递比较逻辑" aria-hidden="true">#</a> 为 memo 传递比较逻辑</h3><p>使用 <code>memo</code> 方法自定义比较逻辑，用于执行深层比较。 比较函数的第一个参数为上一次的 <code>props</code> , 比较函数的第二个参数为下一次的 <code>props</code>, 比较函数返回 <code>true</code>, 不进行渲染, 比较函数返回 <code>false</code>, 组件重新渲染。</p><h2 id="_5-使用组件懒加载" tabindex="-1"><a class="header-anchor" href="#_5-使用组件懒加载" aria-hidden="true">#</a> 5. 使用组件懒加载</h2><p>使用 <code>lazy</code>（组件懒加载）可以减少 bundle 文件大小, 加快组件呈递速度。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> lazy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Home <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;Home&quot; */</span> <span class="token string">&quot;./Home&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-使用-fragment-避免额外标记" tabindex="-1"><a class="header-anchor" href="#_6-使用-fragment-避免额外标记" aria-hidden="true">#</a> 6. 使用 Fragment 避免额外标记</h2><p>React 组件中返回的 jsx 如果有多个同级元素, 多个同级元素必须要有一个共同的父级。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>message a<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>message b<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>为了满足这个条件我们通常都会在最外层添加一个div, 但是这样的话就会多出一个无意义的标记, 如果每个组件都多出这样的一个无意义标记的话, 浏览器渲染引擎的负担就会加剧。 为了解决这个问题, React 推出了 <code>fragment</code> 占位符标记. 使用占位符标记既满足了拥有共同父级的要求又不会多出额外的无意义标记。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>message a<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>message b<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-减少使用内联函数定义" tabindex="-1"><a class="header-anchor" href="#_7-减少使用内联函数定义" aria-hidden="true">#</a> 7. 减少使用内联函数定义</h2><p>在使用内联函数后, <code>render</code> 方法每次运行时都会创建该函数的新实例。 导致 React 在进行 <code>Virtual DOM</code> 比对时, 新旧函数比对不相等，导致 React 总是为元素绑定新的函数实例, 而旧的函数实例又要交给垃圾回收器处理。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">inputValue</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>正确的做法是在组件中单独定义函数, 将函数绑定给事件。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">setInputValue</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">inputValue</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>setInputValue<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-在构造函数中进行函数this绑定" tabindex="-1"><a class="header-anchor" href="#_8-在构造函数中进行函数this绑定" aria-hidden="true">#</a> 8. 在构造函数中进行函数this绑定</h2><p>在类组件中如果使用 fn() {} 这种方式定义函数, 函数 <code>this</code> 默认指向 <code>undefined</code>。 也就是说函数内部的 <code>this</code> 指向需要被更正。</p><p>可以在构造函数中对函数的 <code>this</code> 进行更正, 也可以在行内进行更正, 两者看起来没有太大区别, 但是对性能的影响是不同的。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token comment">// 方式一</span>
     <span class="token comment">// 构造函数只执行一次, 所以函数 this 指向更正的代码也只执行一次.</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 方式二 </span>
    <span class="token comment">// 问题: render 方法每次执行时都会调用 bind 方法生成新的函数实例.</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-类组件中的箭头函数" tabindex="-1"><a class="header-anchor" href="#_9-类组件中的箭头函数" aria-hidden="true">#</a> 9. 类组件中的箭头函数</h2><p>在类组件中使用箭头函数不会存在 <code>this</code> 指向问题, 因为箭头函数本身并不绑定 <code>this</code>。 箭头函数在 <code>this</code> 指向问题上占据优势，但是同时也有不利的一面。</p><p>当使用箭头函数时，该函数被添加为类的实例对象属性，而不是原型对象属性。 如果组件被多次重用，每个组件实例对象中都将会有一个相同的函数实例，降低了函数实例的可重用性造成了资源浪费。</p><p>综上所述，更正函数内部 <code>this</code> 指向的最佳做法仍是在构造函数中使用 <code>bind</code> 方法进行绑定。</p><h2 id="_10-避免使用内联样式属性" tabindex="-1"><a class="header-anchor" href="#_10-避免使用内联样式属性" aria-hidden="true">#</a> 10. 避免使用内联样式属性</h2><p>当使用内联 style 为元素添加样式时, 内联 style 会被编译为 JS 代码。 通过 JS 代码将样式规则映射到元素的身上, 浏览器就会花费更多的时间执行脚本和渲染 UI, 从而增加了组件的渲染时间。</p><p>更好的办法是将 CSS 文件导入样式组件，能通过 CSS 直接做的事情就不要通过 JavaScript 去做，因为 JavaScript 操作 DOM 非常慢。</p><h2 id="_11-优化条件渲染" tabindex="-1"><a class="header-anchor" href="#_11-优化条件渲染" aria-hidden="true">#</a> 11. 优化条件渲染</h2><p>频繁的挂载和卸载组件是一项耗性能的操作, 为了确保应用程序的性能, 应该减少组件挂载和卸载的次数。 在 React 中我们经常会根据条件渲染不同的组件，条件渲染是一项必做的优化操作。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>AdminHeader <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Header <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Content <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Header <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Content <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 改为</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>AdminHeader <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>Header <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Content <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_12-避免重复无限渲染" tabindex="-1"><a class="header-anchor" href="#_12-避免重复无限渲染" aria-hidden="true">#</a> 12. 避免重复无限渲染</h2><p>当应用程序状态发生更改时, React 会调用 <code>render</code> 方法。 如果在 <code>render</code> 方法中继续更改应用程序状态, 就会发生 <code>render</code> 方法递归调用导致应用报错。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>与其他生命周期函数不同, <code>render</code> 方法应该被作为纯函数。 这意味着, 在 <code>render</code> 方法中不要做以下事情：</p><ul><li>不要调用 <code>setState</code> 方法</li><li>不要使用其他手段查询更改原生 DOM 元素</li><li>以及其他更改应用程序的任何操作</li></ul><p><code>render</code> 方法的执行要根据状态的改变, 这样可以保持组件的行为和渲染方式一致。</p><h2 id="_13-为组件创建错误边界" tabindex="-1"><a class="header-anchor" href="#_13-为组件创建错误边界" aria-hidden="true">#</a> 13. 为组件创建错误边界</h2><p>默认情况下, 组件渲染错误会导致整个应用程序中断, 创建错误边界可确保在特定组件发生错误时应用程序不会中断。</p><p>错误边界涉及到两个生命周期函数, 分别为 <code>getDerivedStateFromError</code> 和 <code>componentDidCatch</code>。</p><h2 id="_14-避免数据结构突变" tabindex="-1"><a class="header-anchor" href="#_14-避免数据结构突变" aria-hidden="true">#</a> 14. 避免数据结构突变</h2><p>组件中 <code>props</code> 和 <code>state</code> 的数据结构应该保持一致, 数据结构突变会导致输出不一致。</p><h2 id="_15-依赖优化" tabindex="-1"><a class="header-anchor" href="#_15-依赖优化" aria-hidden="true">#</a> 15. 依赖优化</h2><p>按需引入第三方依赖包。</p><h2 id="_16-为列表数据添加唯一标识key" tabindex="-1"><a class="header-anchor" href="#_16-为列表数据添加唯一标识key" aria-hidden="true">#</a> 16. 为列表数据添加唯一标识key</h2><ul><li>可以避免因元素变化而导致重新创建</li><li>动态列表（排序、过滤、从中间或者顶部删除item）不建议用索引作为key</li></ul><h2 id="_17-高阶组件是类组件之间共享逻辑-类中使用较多" tabindex="-1"><a class="header-anchor" href="#_17-高阶组件是类组件之间共享逻辑-类中使用较多" aria-hidden="true">#</a> 17. 高阶组件是类组件之间共享逻辑，类中使用较多</h2><p>什么是高阶组件 Higher Order Component (HOC)</p><ul><li>高阶组件是React应用中共享代码、增加逻辑复用的一种方式，比如A组件和B组件都需要使用一个相同的逻辑。可以使用高阶组件将逻辑抽取到一个公共的地方使用。</li><li>高阶组件的核心思想就是在组件的外层再包裹一层执行逻辑的组件，在外层组件中执行逻辑，再将逻辑执行的结果传递到内容组件。</li><li>高阶组件由一个函数返回，函数接受组件作为参数，返回一个新的组件，参数组件就是要服用的组件，函数内部返回的新组件就是执行逻辑的组件，在新组件内部执行完逻辑以后再调用参数组件并将逻辑结果传递给参数组件。</li></ul><h2 id="_18、渲染属性和-portal" tabindex="-1"><a class="header-anchor" href="#_18、渲染属性和-portal" aria-hidden="true">#</a> 18、渲染属性和 Portal</h2><p>渲染属性类中使用较多 <code>Portal</code> 将元素渲染到任何根元素</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 564469630@qq.com">kangyana</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/fe/react/57.html" class="" aria-label="【Q057】React 生命周期"><!--[--><!--]--> 【Q057】React 生命周期 <!--[--><!--]--></a></span><span class="next"><a href="/fe/react/59.html" class="" aria-label="【Q059】React.memo"><!--[--><!--]--> 【Q059】React.memo <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.2a439a8a.js" defer></script>
  </body>
</html>
