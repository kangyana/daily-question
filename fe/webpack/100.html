<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/favicon.ico"><title>【Q100】有了解过现在流行的 bundleless 构建工具吗？ | 每日一题</title><meta name="description" content="每天五分钟，半年大厂中">
    <link rel="modulepreload" href="/assets/app.2a439a8a.js"><link rel="modulepreload" href="/assets/100.html.ff134673.js"><link rel="modulepreload" href="/assets/100.html.4ac97423.js"><link rel="prefetch" href="/assets/index.html.33a0dd68.js"><link rel="prefetch" href="/assets/index.html.b925f0c0.js"><link rel="prefetch" href="/assets/index.html.c56635d4.js"><link rel="prefetch" href="/assets/index.html.06d6c73b.js"><link rel="prefetch" href="/assets/index.html.706f0645.js"><link rel="prefetch" href="/assets/1.html.27edf552.js"><link rel="prefetch" href="/assets/10.html.7383416f.js"><link rel="prefetch" href="/assets/11.html.c6fc238a.js"><link rel="prefetch" href="/assets/12.html.74f259c4.js"><link rel="prefetch" href="/assets/13.html.3c5b4a91.js"><link rel="prefetch" href="/assets/14.html.3115b7e0.js"><link rel="prefetch" href="/assets/15.html.7256db36.js"><link rel="prefetch" href="/assets/16.html.cafc53b2.js"><link rel="prefetch" href="/assets/17.html.aa372369.js"><link rel="prefetch" href="/assets/18.html.0474b67f.js"><link rel="prefetch" href="/assets/19.html.f89775a7.js"><link rel="prefetch" href="/assets/2.html.3e619de4.js"><link rel="prefetch" href="/assets/20.html.81f621f7.js"><link rel="prefetch" href="/assets/21.html.0f46e2af.js"><link rel="prefetch" href="/assets/22.html.a9e4b2a2.js"><link rel="prefetch" href="/assets/23.html.b6594ac1.js"><link rel="prefetch" href="/assets/24.html.2d52bcb9.js"><link rel="prefetch" href="/assets/25.html.7ce4e89d.js"><link rel="prefetch" href="/assets/26.html.b853d8ff.js"><link rel="prefetch" href="/assets/27.html.fc0a4b95.js"><link rel="prefetch" href="/assets/28.html.2df1c443.js"><link rel="prefetch" href="/assets/29.html.3f18c822.js"><link rel="prefetch" href="/assets/3.html.42fb625c.js"><link rel="prefetch" href="/assets/30.html.4de25935.js"><link rel="prefetch" href="/assets/31.html.a9e758c5.js"><link rel="prefetch" href="/assets/32.html.88daf987.js"><link rel="prefetch" href="/assets/33.html.a511cf50.js"><link rel="prefetch" href="/assets/34.html.8692bacc.js"><link rel="prefetch" href="/assets/35.html.13a8eff5.js"><link rel="prefetch" href="/assets/36.html.15364126.js"><link rel="prefetch" href="/assets/37.html.964a0e46.js"><link rel="prefetch" href="/assets/38.html.1a2561fb.js"><link rel="prefetch" href="/assets/39.html.e21e79f6.js"><link rel="prefetch" href="/assets/4.html.fa57b958.js"><link rel="prefetch" href="/assets/40.html.7dac2602.js"><link rel="prefetch" href="/assets/41.html.aa812a6e.js"><link rel="prefetch" href="/assets/42.html.08180a44.js"><link rel="prefetch" href="/assets/43.html.fa761dc5.js"><link rel="prefetch" href="/assets/44.html.b3c5d074.js"><link rel="prefetch" href="/assets/45.html.cac5896d.js"><link rel="prefetch" href="/assets/46.html.7542bd94.js"><link rel="prefetch" href="/assets/47.html.f7cd93c7.js"><link rel="prefetch" href="/assets/48.html.8cd4ba64.js"><link rel="prefetch" href="/assets/49.html.ac96906e.js"><link rel="prefetch" href="/assets/5.html.a03396ed.js"><link rel="prefetch" href="/assets/50.html.a283a0f5.js"><link rel="prefetch" href="/assets/51.html.48530cd8.js"><link rel="prefetch" href="/assets/6.html.d1d3aa70.js"><link rel="prefetch" href="/assets/7.html.c1ee96cf.js"><link rel="prefetch" href="/assets/8.html.e3b8b9c4.js"><link rel="prefetch" href="/assets/9.html.d28ee178.js"><link rel="prefetch" href="/assets/52.html.b7a9e291.js"><link rel="prefetch" href="/assets/53.html.90643b9a.js"><link rel="prefetch" href="/assets/54.html.c3d3670d.js"><link rel="prefetch" href="/assets/55.html.acfba55a.js"><link rel="prefetch" href="/assets/56.html.c19635a4.js"><link rel="prefetch" href="/assets/57.html.fc2eced5.js"><link rel="prefetch" href="/assets/58.html.b9029f80.js"><link rel="prefetch" href="/assets/59.html.3b974605.js"><link rel="prefetch" href="/assets/60.html.94914ebc.js"><link rel="prefetch" href="/assets/61.html.0c93953c.js"><link rel="prefetch" href="/assets/62.html.e1ec2c43.js"><link rel="prefetch" href="/assets/63.html.bf7a8245.js"><link rel="prefetch" href="/assets/64.html.0f9c7fc7.js"><link rel="prefetch" href="/assets/65.html.4819adeb.js"><link rel="prefetch" href="/assets/66.html.72630863.js"><link rel="prefetch" href="/assets/67.html.28fb3ee7.js"><link rel="prefetch" href="/assets/68.html.81d8dcc0.js"><link rel="prefetch" href="/assets/69.html.81853ff3.js"><link rel="prefetch" href="/assets/70.html.feecc60d.js"><link rel="prefetch" href="/assets/71.html.670e8d35.js"><link rel="prefetch" href="/assets/72.html.e60ea3ff.js"><link rel="prefetch" href="/assets/73.html.6b233540.js"><link rel="prefetch" href="/assets/74.html.d6352fc7.js"><link rel="prefetch" href="/assets/75.html.d1aab697.js"><link rel="prefetch" href="/assets/76.html.ae78d6a4.js"><link rel="prefetch" href="/assets/77.html.57674b5d.js"><link rel="prefetch" href="/assets/78.html.1cb45461.js"><link rel="prefetch" href="/assets/79.html.352d0f4e.js"><link rel="prefetch" href="/assets/80.html.7235d369.js"><link rel="prefetch" href="/assets/81.html.9d32083d.js"><link rel="prefetch" href="/assets/82.html.5eae198a.js"><link rel="prefetch" href="/assets/83.html.99541ec2.js"><link rel="prefetch" href="/assets/84.html.5bfc7fdc.js"><link rel="prefetch" href="/assets/85.html.0877396f.js"><link rel="prefetch" href="/assets/86.html.093104fc.js"><link rel="prefetch" href="/assets/87.html.68f64f47.js"><link rel="prefetch" href="/assets/88.html.6f80687f.js"><link rel="prefetch" href="/assets/101.html.fb4ea29a.js"><link rel="prefetch" href="/assets/102.html.7b897450.js"><link rel="prefetch" href="/assets/89.html.5b477b75.js"><link rel="prefetch" href="/assets/90.html.c6d19113.js"><link rel="prefetch" href="/assets/91.html.57f18e44.js"><link rel="prefetch" href="/assets/92.html.e1b3ff3b.js"><link rel="prefetch" href="/assets/93.html.3b211a50.js"><link rel="prefetch" href="/assets/94.html.fc2c94f2.js"><link rel="prefetch" href="/assets/95.html.0a01eb0a.js"><link rel="prefetch" href="/assets/96.html.4d609ab5.js"><link rel="prefetch" href="/assets/97.html.742af4c1.js"><link rel="prefetch" href="/assets/98.html.2e63891f.js"><link rel="prefetch" href="/assets/99.html.ead09ca8.js"><link rel="prefetch" href="/assets/103.html.c06992ef.js"><link rel="prefetch" href="/assets/104.html.b6e07b76.js"><link rel="prefetch" href="/assets/105.html.866f0f1f.js"><link rel="prefetch" href="/assets/106.html.71543481.js"><link rel="prefetch" href="/assets/107.html.de42886d.js"><link rel="prefetch" href="/assets/108.html.e7874e60.js"><link rel="prefetch" href="/assets/109.html.75267470.js"><link rel="prefetch" href="/assets/110.html.7b6b6d62.js"><link rel="prefetch" href="/assets/111.html.d4d222b3.js"><link rel="prefetch" href="/assets/112.html.8f70fea6.js"><link rel="prefetch" href="/assets/113.html.674dc1ef.js"><link rel="prefetch" href="/assets/114.html.0d035239.js"><link rel="prefetch" href="/assets/115.html.2ad11070.js"><link rel="prefetch" href="/assets/116.html.d60d53a5.js"><link rel="prefetch" href="/assets/117.html.2fb46f76.js"><link rel="prefetch" href="/assets/118.html.4ca23aad.js"><link rel="prefetch" href="/assets/119.html.98bc84f3.js"><link rel="prefetch" href="/assets/120.html.2f8b0d2b.js"><link rel="prefetch" href="/assets/121.html.905d04ee.js"><link rel="prefetch" href="/assets/122.html.47c18d11.js"><link rel="prefetch" href="/assets/123.html.490e3ccc.js"><link rel="prefetch" href="/assets/124.html.04527473.js"><link rel="prefetch" href="/assets/125.html.a66d1390.js"><link rel="prefetch" href="/assets/126.html.4a318acd.js"><link rel="prefetch" href="/assets/127.html.4c313fe0.js"><link rel="prefetch" href="/assets/128.html.a4801239.js"><link rel="prefetch" href="/assets/129.html.2c6977df.js"><link rel="prefetch" href="/assets/130.html.81fa94ab.js"><link rel="prefetch" href="/assets/131.html.25394b19.js"><link rel="prefetch" href="/assets/132.html.a5197e99.js"><link rel="prefetch" href="/assets/133.html.e84c7381.js"><link rel="prefetch" href="/assets/134.html.1fd5e16a.js"><link rel="prefetch" href="/assets/135.html.535582dc.js"><link rel="prefetch" href="/assets/136.html.68c8208e.js"><link rel="prefetch" href="/assets/137.html.01590b83.js"><link rel="prefetch" href="/assets/138.html.0671ac5e.js"><link rel="prefetch" href="/assets/139.html.28c6d294.js"><link rel="prefetch" href="/assets/140.html.d04802fa.js"><link rel="prefetch" href="/assets/141.html.59508af4.js"><link rel="prefetch" href="/assets/142.html.ef4e1cda.js"><link rel="prefetch" href="/assets/143.html.8b178ffb.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.681fc8fe.js"><link rel="prefetch" href="/assets/index.html.6fa8ab8c.js"><link rel="prefetch" href="/assets/index.html.8d5f3ff8.js"><link rel="prefetch" href="/assets/index.html.aa4b0f62.js"><link rel="prefetch" href="/assets/index.html.15320177.js"><link rel="prefetch" href="/assets/1.html.4c0fca60.js"><link rel="prefetch" href="/assets/10.html.e02cce84.js"><link rel="prefetch" href="/assets/11.html.86a31a17.js"><link rel="prefetch" href="/assets/12.html.8aca73ff.js"><link rel="prefetch" href="/assets/13.html.5e365985.js"><link rel="prefetch" href="/assets/14.html.0ede8e45.js"><link rel="prefetch" href="/assets/15.html.4d81bcdd.js"><link rel="prefetch" href="/assets/16.html.921a3795.js"><link rel="prefetch" href="/assets/17.html.9e9b3ec4.js"><link rel="prefetch" href="/assets/18.html.4908f3f0.js"><link rel="prefetch" href="/assets/19.html.8906d1ff.js"><link rel="prefetch" href="/assets/2.html.dfe628a0.js"><link rel="prefetch" href="/assets/20.html.c66d654b.js"><link rel="prefetch" href="/assets/21.html.9560d984.js"><link rel="prefetch" href="/assets/22.html.c3375b8d.js"><link rel="prefetch" href="/assets/23.html.edb89c74.js"><link rel="prefetch" href="/assets/24.html.c5a35abc.js"><link rel="prefetch" href="/assets/25.html.770665a6.js"><link rel="prefetch" href="/assets/26.html.ae83bc6b.js"><link rel="prefetch" href="/assets/27.html.45e64add.js"><link rel="prefetch" href="/assets/28.html.4cfe742b.js"><link rel="prefetch" href="/assets/29.html.b77e0ffa.js"><link rel="prefetch" href="/assets/3.html.0a37bbda.js"><link rel="prefetch" href="/assets/30.html.632dd61e.js"><link rel="prefetch" href="/assets/31.html.b6f5ccfc.js"><link rel="prefetch" href="/assets/32.html.5c7aa9df.js"><link rel="prefetch" href="/assets/33.html.2a6f2aa0.js"><link rel="prefetch" href="/assets/34.html.78a46ce0.js"><link rel="prefetch" href="/assets/35.html.66e7cc06.js"><link rel="prefetch" href="/assets/36.html.f5ecffa3.js"><link rel="prefetch" href="/assets/37.html.2f277b1b.js"><link rel="prefetch" href="/assets/38.html.2c51b7e7.js"><link rel="prefetch" href="/assets/39.html.5eabf1f9.js"><link rel="prefetch" href="/assets/4.html.dc9204c2.js"><link rel="prefetch" href="/assets/40.html.7f502342.js"><link rel="prefetch" href="/assets/41.html.a329b462.js"><link rel="prefetch" href="/assets/42.html.240e24a2.js"><link rel="prefetch" href="/assets/43.html.3325681a.js"><link rel="prefetch" href="/assets/44.html.89701cfc.js"><link rel="prefetch" href="/assets/45.html.8192e416.js"><link rel="prefetch" href="/assets/46.html.b3b445c8.js"><link rel="prefetch" href="/assets/47.html.e0c01ac5.js"><link rel="prefetch" href="/assets/48.html.48db9ee4.js"><link rel="prefetch" href="/assets/49.html.30be2bc4.js"><link rel="prefetch" href="/assets/5.html.25573f23.js"><link rel="prefetch" href="/assets/50.html.ed66ad55.js"><link rel="prefetch" href="/assets/51.html.d331d253.js"><link rel="prefetch" href="/assets/6.html.475aa4a9.js"><link rel="prefetch" href="/assets/7.html.b0f8eb80.js"><link rel="prefetch" href="/assets/8.html.1e4261d4.js"><link rel="prefetch" href="/assets/9.html.abedecbf.js"><link rel="prefetch" href="/assets/52.html.7255ccca.js"><link rel="prefetch" href="/assets/53.html.c8311aab.js"><link rel="prefetch" href="/assets/54.html.6a9a168d.js"><link rel="prefetch" href="/assets/55.html.1f7c265f.js"><link rel="prefetch" href="/assets/56.html.0249b7bd.js"><link rel="prefetch" href="/assets/57.html.2861e79b.js"><link rel="prefetch" href="/assets/58.html.191166b5.js"><link rel="prefetch" href="/assets/59.html.b3556d81.js"><link rel="prefetch" href="/assets/60.html.c3b10916.js"><link rel="prefetch" href="/assets/61.html.cc6c74c1.js"><link rel="prefetch" href="/assets/62.html.3903e498.js"><link rel="prefetch" href="/assets/63.html.c2b1ddd6.js"><link rel="prefetch" href="/assets/64.html.53e03f91.js"><link rel="prefetch" href="/assets/65.html.1cab6937.js"><link rel="prefetch" href="/assets/66.html.2ae15a6e.js"><link rel="prefetch" href="/assets/67.html.a935be4c.js"><link rel="prefetch" href="/assets/68.html.0db9fe79.js"><link rel="prefetch" href="/assets/69.html.ce04698f.js"><link rel="prefetch" href="/assets/70.html.ed1f6b94.js"><link rel="prefetch" href="/assets/71.html.d282f838.js"><link rel="prefetch" href="/assets/72.html.9fd08a5c.js"><link rel="prefetch" href="/assets/73.html.71303c99.js"><link rel="prefetch" href="/assets/74.html.b917eb68.js"><link rel="prefetch" href="/assets/75.html.e67993e8.js"><link rel="prefetch" href="/assets/76.html.8aab3f55.js"><link rel="prefetch" href="/assets/77.html.50c38304.js"><link rel="prefetch" href="/assets/78.html.1c723006.js"><link rel="prefetch" href="/assets/79.html.b4c81d9f.js"><link rel="prefetch" href="/assets/80.html.5b4ffc97.js"><link rel="prefetch" href="/assets/81.html.1d2adbd2.js"><link rel="prefetch" href="/assets/82.html.e434a2f9.js"><link rel="prefetch" href="/assets/83.html.c82691a9.js"><link rel="prefetch" href="/assets/84.html.9cb88a47.js"><link rel="prefetch" href="/assets/85.html.740b3123.js"><link rel="prefetch" href="/assets/86.html.dbf629cb.js"><link rel="prefetch" href="/assets/87.html.7bf52b15.js"><link rel="prefetch" href="/assets/88.html.651b5d27.js"><link rel="prefetch" href="/assets/101.html.af312988.js"><link rel="prefetch" href="/assets/102.html.c84337a2.js"><link rel="prefetch" href="/assets/89.html.a4aca3d8.js"><link rel="prefetch" href="/assets/90.html.d82ca3bf.js"><link rel="prefetch" href="/assets/91.html.7a2a749f.js"><link rel="prefetch" href="/assets/92.html.9dd0ce16.js"><link rel="prefetch" href="/assets/93.html.c1f14bbc.js"><link rel="prefetch" href="/assets/94.html.ca59bc1f.js"><link rel="prefetch" href="/assets/95.html.95472b81.js"><link rel="prefetch" href="/assets/96.html.5f780378.js"><link rel="prefetch" href="/assets/97.html.03eb13af.js"><link rel="prefetch" href="/assets/98.html.eb98f367.js"><link rel="prefetch" href="/assets/99.html.e16a6723.js"><link rel="prefetch" href="/assets/103.html.8025352a.js"><link rel="prefetch" href="/assets/104.html.d59ac089.js"><link rel="prefetch" href="/assets/105.html.5ad3bdf0.js"><link rel="prefetch" href="/assets/106.html.41f2e13c.js"><link rel="prefetch" href="/assets/107.html.835dce17.js"><link rel="prefetch" href="/assets/108.html.2133dceb.js"><link rel="prefetch" href="/assets/109.html.9489f03a.js"><link rel="prefetch" href="/assets/110.html.c94c7102.js"><link rel="prefetch" href="/assets/111.html.c71a82da.js"><link rel="prefetch" href="/assets/112.html.2a777eaf.js"><link rel="prefetch" href="/assets/113.html.dd00f2e4.js"><link rel="prefetch" href="/assets/114.html.e638b632.js"><link rel="prefetch" href="/assets/115.html.861d5084.js"><link rel="prefetch" href="/assets/116.html.1714f751.js"><link rel="prefetch" href="/assets/117.html.924f065a.js"><link rel="prefetch" href="/assets/118.html.af26f91a.js"><link rel="prefetch" href="/assets/119.html.a050c713.js"><link rel="prefetch" href="/assets/120.html.d662b8ef.js"><link rel="prefetch" href="/assets/121.html.15a694af.js"><link rel="prefetch" href="/assets/122.html.2debd177.js"><link rel="prefetch" href="/assets/123.html.210a181d.js"><link rel="prefetch" href="/assets/124.html.141bd2dd.js"><link rel="prefetch" href="/assets/125.html.8f31107a.js"><link rel="prefetch" href="/assets/126.html.100e7740.js"><link rel="prefetch" href="/assets/127.html.375467ef.js"><link rel="prefetch" href="/assets/128.html.e0671271.js"><link rel="prefetch" href="/assets/129.html.6c6bfa58.js"><link rel="prefetch" href="/assets/130.html.e505df36.js"><link rel="prefetch" href="/assets/131.html.8d700c97.js"><link rel="prefetch" href="/assets/132.html.faddc01f.js"><link rel="prefetch" href="/assets/133.html.88e3c00d.js"><link rel="prefetch" href="/assets/134.html.baee83bd.js"><link rel="prefetch" href="/assets/135.html.9ea35886.js"><link rel="prefetch" href="/assets/136.html.cf991682.js"><link rel="prefetch" href="/assets/137.html.c3208264.js"><link rel="prefetch" href="/assets/138.html.8f9d8cd4.js"><link rel="prefetch" href="/assets/139.html.ac25d7f7.js"><link rel="prefetch" href="/assets/140.html.81522b10.js"><link rel="prefetch" href="/assets/141.html.53a1b0f3.js"><link rel="prefetch" href="/assets/142.html.fc81d982.js"><link rel="prefetch" href="/assets/143.html.ad335aaa.js"><link rel="prefetch" href="/assets/404.html.58783704.js">
    <link rel="stylesheet" href="/assets/style.f4d22aab.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">每日一题</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/fe" class="router-link-active" aria-label="前端基础"><!--[--><!--]--> 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/editor" class="" aria-label="编辑器"><!--[--><!--]--> 编辑器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/3d" class="" aria-label="3d"><!--[--><!--]--> 3d <!--[--><!--]--></a></div><div class="navbar-item"><a href="/media" class="" aria-label="音媒体"><!--[--><!--]--> 音媒体 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/kangyana/daily-question" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/fe" class="router-link-active" aria-label="前端基础"><!--[--><!--]--> 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/editor" class="" aria-label="编辑器"><!--[--><!--]--> 编辑器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/3d" class="" aria-label="3d"><!--[--><!--]--> 3d <!--[--><!--]--></a></div><div class="navbar-item"><a href="/media" class="" aria-label="音媒体"><!--[--><!--]--> 音媒体 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/kangyana/daily-question" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/fe" class="router-link-active sidebar-item sidebar-heading" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">javascript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/javascript/1.html" class="sidebar-item" aria-label="【Q001】js 有几种基本的数据类型"><!--[--><!--]--> 【Q001】js 有几种基本的数据类型 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/2.html" class="sidebar-item" aria-label="【Q002】如何判断 js 数据类型"><!--[--><!--]--> 【Q002】如何判断 js 数据类型 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/3.html" class="sidebar-item" aria-label="【Q003】typeof和instanceof的区别"><!--[--><!--]--> 【Q003】typeof和instanceof的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/4.html" class="sidebar-item" aria-label="【Q004】如何判断一个变量是不是Array"><!--[--><!--]--> 【Q004】如何判断一个变量是不是Array <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/5.html" class="sidebar-item" aria-label="【Q005】==和===有什么不同"><!--[--><!--]--> 【Q005】==和===有什么不同 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/6.html" class="sidebar-item" aria-label="【Q006】事件机制"><!--[--><!--]--> 【Q006】事件机制 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/7.html" class="sidebar-item" aria-label="【Q007】事件委托"><!--[--><!--]--> 【Q007】事件委托 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/8.html" class="sidebar-item" aria-label="【Q008】e.preventDefault()是干什么的"><!--[--><!--]--> 【Q008】e.preventDefault()是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/9.html" class="sidebar-item" aria-label="【Q009】JS中this是如何工作的"><!--[--><!--]--> 【Q009】JS中this是如何工作的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/10.html" class="sidebar-item" aria-label="【Q010】apply、call、bind的区别，及源码实现"><!--[--><!--]--> 【Q010】apply、call、bind的区别，及源码实现 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/11.html" class="sidebar-item" aria-label="【Q011】js中new关键字原理"><!--[--><!--]--> 【Q011】js中new关键字原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/12.html" class="sidebar-item" aria-label="【Q012】JS 中继承是如何实现的"><!--[--><!--]--> 【Q012】JS 中继承是如何实现的 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/13.html" class="sidebar-item" aria-label="【Q013】JS 原型和原型链"><!--[--><!--]--> 【Q013】JS 原型和原型链 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/14.html" class="sidebar-item" aria-label="【Q014】闭包与作用域链"><!--[--><!--]--> 【Q014】闭包与作用域链 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/15.html" class="sidebar-item" aria-label="【Q015】let、const、var的区别"><!--[--><!--]--> 【Q015】let、const、var的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/16.html" class="sidebar-item" aria-label="【Q016】JS 中变量声明提升"><!--[--><!--]--> 【Q016】JS 中变量声明提升 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/17.html" class="sidebar-item" aria-label="【Q017】JS 模块化"><!--[--><!--]--> 【Q017】JS 模块化 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/18.html" class="sidebar-item" aria-label="【Q018】IIFE 立即执行函数"><!--[--><!--]--> 【Q018】IIFE 立即执行函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/19.html" class="sidebar-item" aria-label="【Q019】匿名函数"><!--[--><!--]--> 【Q019】匿名函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/20.html" class="sidebar-item" aria-label="【Q020】箭头函数"><!--[--><!--]--> 【Q020】箭头函数 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/21.html" class="sidebar-item" aria-label="【Q021】函数柯里化"><!--[--><!--]--> 【Q021】函数柯里化 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/22.html" class="sidebar-item" aria-label="【Q022】Promise"><!--[--><!--]--> 【Q022】Promise <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/23.html" class="sidebar-item" aria-label="【Q023】async/await"><!--[--><!--]--> 【Q023】async/await <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/24.html" class="sidebar-item" aria-label="【Q024】Generator"><!--[--><!--]--> 【Q024】Generator <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/25.html" class="sidebar-item" aria-label="【Q025】对象遍历 和 数组遍历"><!--[--><!--]--> 【Q025】对象遍历 和 数组遍历 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/26.html" class="sidebar-item" aria-label="【Q026】常见的数组方法"><!--[--><!--]--> 【Q026】常见的数组方法 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/27.html" class="sidebar-item" aria-label="【Q027】Ajax 工作原理"><!--[--><!--]--> 【Q027】Ajax 工作原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/28.html" class="sidebar-item" aria-label="【Q028】fetch"><!--[--><!--]--> 【Q028】fetch <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/29.html" class="sidebar-item" aria-label="【Q029】同源策略（same-origin policy）"><!--[--><!--]--> 【Q029】同源策略（same-origin policy） <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/30.html" class="sidebar-item" aria-label="【Q030】JS strict模式"><!--[--><!--]--> 【Q030】JS strict模式 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/31.html" class="sidebar-item" aria-label="【Q031】cookie"><!--[--><!--]--> 【Q031】cookie <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/32.html" class="sidebar-item" aria-label="【Q032】sessionStorage、localStorage"><!--[--><!--]--> 【Q032】sessionStorage、localStorage <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/33.html" class="sidebar-item" aria-label="【Q032】IndexedDB"><!--[--><!--]--> 【Q032】IndexedDB <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/34.html" class="sidebar-item" aria-label="【Q034】web worker"><!--[--><!--]--> 【Q034】web worker <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/35.html" class="sidebar-item" aria-label="【Q035】请解释什么是单页面应用"><!--[--><!--]--> 【Q035】请解释什么是单页面应用 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/36.html" class="sidebar-item" aria-label="【Q036】可变对象和不可变对象"><!--[--><!--]--> 【Q036】可变对象和不可变对象 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/37.html" class="sidebar-item" aria-label="【Q037】什么是事件循环（event loop）"><!--[--><!--]--> 【Q037】什么是事件循环（event loop） <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/38.html" class="sidebar-item" aria-label="【Q038】创建对象有几种方法"><!--[--><!--]--> 【Q038】创建对象有几种方法 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/39.html" class="sidebar-item" aria-label="【Q039】深拷贝和浅拷贝"><!--[--><!--]--> 【Q039】深拷贝和浅拷贝 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/40.html" class="sidebar-item" aria-label="【Q040】网页各种高度"><!--[--><!--]--> 【Q040】网页各种高度 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/41.html" class="sidebar-item" aria-label="【Q041】requestAnimationFrame"><!--[--><!--]--> 【Q041】requestAnimationFrame <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/42.html" class="sidebar-item" aria-label="【Q042】requestIdleCallback"><!--[--><!--]--> 【Q042】requestIdleCallback <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/43.html" class="sidebar-item" aria-label="【Q043】webassembly"><!--[--><!--]--> 【Q043】webassembly <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/44.html" class="sidebar-item" aria-label="【Q044】垃圾回收"><!--[--><!--]--> 【Q044】垃圾回收 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/45.html" class="sidebar-item" aria-label="【Q045】proxy"><!--[--><!--]--> 【Q045】proxy <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/46.html" class="sidebar-item" aria-label="【Q046】Object.defineProperty"><!--[--><!--]--> 【Q046】Object.defineProperty <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/47.html" class="sidebar-item" aria-label="【Q047】map set"><!--[--><!--]--> 【Q047】map set <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/48.html" class="sidebar-item" aria-label="【Q048】null 和 undefined 的区别"><!--[--><!--]--> 【Q048】null 和 undefined 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/49.html" class="sidebar-item" aria-label="【Q049】symbol"><!--[--><!--]--> 【Q049】symbol <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/50.html" class="sidebar-item" aria-label="【Q050】Object.assign"><!--[--><!--]--> 【Q050】Object.assign <!--[--><!--]--></a><!----></li><li><a href="/fe/javascript/51.html" class="sidebar-item" aria-label="【Q051】常见的 DOM 方法"><!--[--><!--]--> 【Q051】常见的 DOM 方法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">react <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/react/52.html" class="sidebar-item" aria-label="【Q052】React 17、React 18新特性"><!--[--><!--]--> 【Q052】React 17、React 18新特性 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/53.html" class="sidebar-item" aria-label="【Q053】虚拟 DOM 是什么？以及 Diff 算法原理"><!--[--><!--]--> 【Q053】虚拟 DOM 是什么？以及 Diff 算法原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/54.html" class="sidebar-item" aria-label="【Q054】key 是干什么的"><!--[--><!--]--> 【Q054】key 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/55.html" class="sidebar-item" aria-label="【Q055】Fiber"><!--[--><!--]--> 【Q055】Fiber <!--[--><!--]--></a><!----></li><li><a href="/fe/react/56.html" class="sidebar-item" aria-label="【Q056】React 事件机制和原生事件机制的关系"><!--[--><!--]--> 【Q056】React 事件机制和原生事件机制的关系 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/57.html" class="sidebar-item" aria-label="【Q057】React 生命周期"><!--[--><!--]--> 【Q057】React 生命周期 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/58.html" class="sidebar-item" aria-label="【Q058】React 组件性能优化"><!--[--><!--]--> 【Q058】React 组件性能优化 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/59.html" class="sidebar-item" aria-label="【Q059】React.memo"><!--[--><!--]--> 【Q059】React.memo <!--[--><!--]--></a><!----></li><li><a href="/fe/react/60.html" class="sidebar-item" aria-label="【Q060】props.children"><!--[--><!--]--> 【Q060】props.children <!--[--><!--]--></a><!----></li><li><a href="/fe/react/61.html" class="sidebar-item" aria-label="【Q061】content"><!--[--><!--]--> 【Q061】content <!--[--><!--]--></a><!----></li><li><a href="/fe/react/62.html" class="sidebar-item" aria-label="【Q062】setState 是同步还是异步？"><!--[--><!--]--> 【Q062】setState 是同步还是异步？ <!--[--><!--]--></a><!----></li><li><a href="/fe/react/63.html" class="sidebar-item" aria-label="【Q063】setState 批更新"><!--[--><!--]--> 【Q063】setState 批更新 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/64.html" class="sidebar-item" aria-label="【Q064】组件通信"><!--[--><!--]--> 【Q064】组件通信 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/65.html" class="sidebar-item" aria-label="【Q065】高阶组件原理"><!--[--><!--]--> 【Q065】高阶组件原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/66.html" class="sidebar-item" aria-label="【Q066】受控组件和非受控组件"><!--[--><!--]--> 【Q066】受控组件和非受控组件 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/67.html" class="sidebar-item" aria-label="【Q067】为什么要是用 React Hooks?"><!--[--><!--]--> 【Q067】为什么要是用 React Hooks? <!--[--><!--]--></a><!----></li><li><a href="/fe/react/68.html" class="sidebar-item" aria-label="【Q068】React Hooks 实现原理"><!--[--><!--]--> 【Q068】React Hooks 实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/69.html" class="sidebar-item" aria-label="【Q069】React Hooks 使用原则，以及为什么"><!--[--><!--]--> 【Q069】React Hooks 使用原则，以及为什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/70.html" class="sidebar-item" aria-label="【Q070】React Hooks 使用中常见问题"><!--[--><!--]--> 【Q070】React Hooks 使用中常见问题 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/71.html" class="sidebar-item" aria-label="【Q071】官方自带的 Hooks"><!--[--><!--]--> 【Q071】官方自带的 Hooks <!--[--><!--]--></a><!----></li><li><a href="/fe/react/72.html" class="sidebar-item" aria-label="【Q072】useEffect 和 useLayoutEffect 的区别"><!--[--><!--]--> 【Q072】useEffect 和 useLayoutEffect 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/73.html" class="sidebar-item" aria-label="【Q073】useMemo 和 useCallback 的区别"><!--[--><!--]--> 【Q073】useMemo 和 useCallback 的区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/74.html" class="sidebar-item" aria-label="【Q074】如何自己封装一个 Hooks"><!--[--><!--]--> 【Q074】如何自己封装一个 Hooks <!--[--><!--]--></a><!----></li><li><a href="/fe/react/75.html" class="sidebar-item" aria-label="【Q075】Suspense"><!--[--><!--]--> 【Q075】Suspense <!--[--><!--]--></a><!----></li><li><a href="/fe/react/76.html" class="sidebar-item" aria-label="【Q076】Concurrent"><!--[--><!--]--> 【Q076】Concurrent <!--[--><!--]--></a><!----></li><li><a href="/fe/react/77.html" class="sidebar-item" aria-label="【Q077】startTransition"><!--[--><!--]--> 【Q077】startTransition <!--[--><!--]--></a><!----></li><li><a href="/fe/react/78.html" class="sidebar-item" aria-label="【Q078】Server Component"><!--[--><!--]--> 【Q078】Server Component <!--[--><!--]--></a><!----></li><li><a href="/fe/react/79.html" class="sidebar-item" aria-label="【Q079】componentDidCatch"><!--[--><!--]--> 【Q079】componentDidCatch <!--[--><!--]--></a><!----></li><li><a href="/fe/react/80.html" class="sidebar-item" aria-label="【Q080】SSR"><!--[--><!--]--> 【Q080】SSR <!--[--><!--]--></a><!----></li><li><a href="/fe/react/81.html" class="sidebar-item" aria-label="【Q081】为什么需要用 redux"><!--[--><!--]--> 【Q081】为什么需要用 redux <!--[--><!--]--></a><!----></li><li><a href="/fe/react/82.html" class="sidebar-item" aria-label="【Q082】react-redux 是干什么的"><!--[--><!--]--> 【Q082】react-redux 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/83.html" class="sidebar-item" aria-label="【Q083】react-redux connect 实现原理"><!--[--><!--]--> 【Q083】react-redux connect 实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/84.html" class="sidebar-item" aria-label="【Q084】redux 工作流程及原理"><!--[--><!--]--> 【Q084】redux 工作流程及原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/85.html" class="sidebar-item" aria-label="【Q085】有没有用过其它状态管理器？以及原理"><!--[--><!--]--> 【Q085】有没有用过其它状态管理器？以及原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/86.html" class="sidebar-item" aria-label="【Q086】react-router 路由实现原理"><!--[--><!--]--> 【Q086】react-router 路由实现原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/react/87.html" class="sidebar-item" aria-label="【Q087】react-router 有几种路由类型？"><!--[--><!--]--> 【Q087】react-router 有几种路由类型？ <!--[--><!--]--></a><!----></li><li><a href="/fe/react/88.html" class="sidebar-item" aria-label="【Q088】项目本地开发完成后部署到服务器后报 404"><!--[--><!--]--> 【Q088】项目本地开发完成后部署到服务器后报 404 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">webpack <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/fe/webpack/89.html" class="sidebar-item" aria-label="【Q089】为什么需要 webpack"><!--[--><!--]--> 【Q089】为什么需要 webpack <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/90.html" class="sidebar-item" aria-label="【Q090】webpack 5 新特性"><!--[--><!--]--> 【Q090】webpack 5 新特性 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/91.html" class="sidebar-item" aria-label="【Q091】loader"><!--[--><!--]--> 【Q091】loader <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/92.html" class="sidebar-item" aria-label="【Q092】plugin"><!--[--><!--]--> 【Q092】plugin <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/93.html" class="sidebar-item" aria-label="【Q093】tree shaking"><!--[--><!--]--> 【Q093】tree shaking <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/94.html" class="sidebar-item" aria-label="【Q094】常见的配置项"><!--[--><!--]--> 【Q094】常见的配置项 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/95.html" class="sidebar-item" aria-label="【Q095】publicPath 是干什么的"><!--[--><!--]--> 【Q095】publicPath 是干什么的 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/96.html" class="sidebar-item" aria-label="【Q096】打包很慢，怎么解决"><!--[--><!--]--> 【Q096】打包很慢，怎么解决 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/97.html" class="sidebar-item" aria-label="【Q097】打包出来的文件很大，怎么解决？"><!--[--><!--]--> 【Q097】打包出来的文件很大，怎么解决？ <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/98.html" class="sidebar-item" aria-label="【Q098】模块联邦"><!--[--><!--]--> 【Q098】模块联邦 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/99.html" class="sidebar-item" aria-label="【Q099】HMR 原理"><!--[--><!--]--> 【Q099】HMR 原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fe/webpack/100.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="【Q100】有了解过现在流行的 bundleless 构建工具吗？"><!--[--><!--]--> 【Q100】有了解过现在流行的 bundleless 构建工具吗？ <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/101.html" class="sidebar-item" aria-label="【Q101】vite 原理"><!--[--><!--]--> 【Q101】vite 原理 <!--[--><!--]--></a><!----></li><li><a href="/fe/webpack/102.html" class="sidebar-item" aria-label="【Q102】sourceMap"><!--[--><!--]--> 【Q102】sourceMap <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">工程化 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/工程化/103.html" class="sidebar-item" aria-label="【Q103】打包时 cjs、es、umd 模块有何不同"><!--[--><!--]--> 【Q103】打包时 cjs、es、umd 模块有何不同 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/104.html" class="sidebar-item" aria-label="【Q104】什么是 AST，及其应用"><!--[--><!--]--> 【Q104】什么是 AST，及其应用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/105.html" class="sidebar-item" aria-label="【Q105】webpack 的 runtime 做了什么事情"><!--[--><!--]--> 【Q105】webpack 的 runtime 做了什么事情 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/106.html" class="sidebar-item" aria-label="【Q106】webpack 中的 code spliting 是如何动态加载 chunk 的？"><!--[--><!--]--> 【Q106】webpack 中的 code spliting 是如何动态加载 chunk 的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/107.html" class="sidebar-item" aria-label="【Q107】打包器 如何加载 json、image 等非 Javascript 资源"><!--[--><!--]--> 【Q107】打包器 如何加载 json、image 等非 Javascript 资源 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/108.html" class="sidebar-item" aria-label="【Q108】打包器 如何加载 style 样式资源"><!--[--><!--]--> 【Q108】打包器 如何加载 style 样式资源 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/109.html" class="sidebar-item" aria-label="【Q109】打包器 如何将打包后的 js 资源注入 html 中"><!--[--><!--]--> 【Q109】打包器 如何将打包后的 js 资源注入 html 中 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/110.html" class="sidebar-item" aria-label="【Q110】webpack 中什么是 HMR，原理是什么"><!--[--><!--]--> 【Q110】webpack 中什么是 HMR，原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/111.html" class="sidebar-item" aria-label="【Q111】如何提升 webpack 构建资源的速度"><!--[--><!--]--> 【Q111】如何提升 webpack 构建资源的速度 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/112.html" class="sidebar-item" aria-label="【Q112】如何分析前端打包体积"><!--[--><!--]--> 【Q112】如何分析前端打包体积 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/113.html" class="sidebar-item" aria-label="【Q113】js 代码压缩 minify 的原理是什么"><!--[--><!--]--> 【Q113】js 代码压缩 minify 的原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/114.html" class="sidebar-item" aria-label="【Q114】Tree Shaking 的原理是什么"><!--[--><!--]--> 【Q114】Tree Shaking 的原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/115.html" class="sidebar-item" aria-label="【Q115】core-js 是做什么用的？"><!--[--><!--]--> 【Q115】core-js 是做什么用的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/116.html" class="sidebar-item" aria-label="【Q116】browserslist 是做什么的？"><!--[--><!--]--> 【Q116】browserslist 是做什么的？ <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/117.html" class="sidebar-item" aria-label="【Q117】浏览器中如何使用原生的 ESM"><!--[--><!--]--> 【Q117】浏览器中如何使用原生的 ESM <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/118.html" class="sidebar-item" aria-label="【Q118】如何将 CommonJS 转化为 ESM"><!--[--><!--]--> 【Q118】如何将 CommonJS 转化为 ESM <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/119.html" class="sidebar-item" aria-label="【Q119】简述 bundless 的优势与不足"><!--[--><!--]--> 【Q119】简述 bundless 的优势与不足 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/120.html" class="sidebar-item" aria-label="【Q120】什么是 semver，~1.2.3 与 ^1.2.3 的版本号范围是多少"><!--[--><!--]--> 【Q120】什么是 semver，~1.2.3 与 ^1.2.3 的版本号范围是多少 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/121.html" class="sidebar-item" aria-label="【Q121】package.json 中 main/module/browser/exports 字段"><!--[--><!--]--> 【Q121】package.json 中 main/module/browser/exports 字段 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/122.html" class="sidebar-item" aria-label="【Q122】dependencies 与 devDependencies 有何区别"><!--[--><!--]--> 【Q122】dependencies 与 devDependencies 有何区别 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/123.html" class="sidebar-item" aria-label="【Q123】如何为一个项目指定 node 版本号"><!--[--><!--]--> 【Q123】如何为一个项目指定 node 版本号 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/124.html" class="sidebar-item" aria-label="【Q124】简述 npm script 的生命周期"><!--[--><!--]--> 【Q124】简述 npm script 的生命周期 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/125.html" class="sidebar-item" aria-label="【Q125】如何对 npm package 进行发包"><!--[--><!--]--> 【Q125】如何对 npm package 进行发包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/126.html" class="sidebar-item" aria-label="【Q126】package-lock.json 有什么作用"><!--[--><!--]--> 【Q126】package-lock.json 有什么作用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/127.html" class="sidebar-item" aria-label="【Q127】npm 第三方库需要提交 lockfile 吗"><!--[--><!--]--> 【Q127】npm 第三方库需要提交 lockfile 吗 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/128.html" class="sidebar-item" aria-label="【Q128】简述 npm cache"><!--[--><!--]--> 【Q128】简述 npm cache <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/129.html" class="sidebar-item" aria-label="【Q129】node_modules 的目录结构(拓扑结构)"><!--[--><!--]--> 【Q129】node_modules 的目录结构(拓扑结构) <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/130.html" class="sidebar-item" aria-label="【Q130】pnpm 有什么优势"><!--[--><!--]--> 【Q130】pnpm 有什么优势 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/131.html" class="sidebar-item" aria-label="【Q131】请问什么是 CICD"><!--[--><!--]--> 【Q131】请问什么是 CICD <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/132.html" class="sidebar-item" aria-label="【Q132】git hooks 原理是什么"><!--[--><!--]--> 【Q132】git hooks 原理是什么 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/133.html" class="sidebar-item" aria-label="【Q133】如何检测出你们安装的依赖是否安全"><!--[--><!--]--> 【Q133】如何检测出你们安装的依赖是否安全 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/134.html" class="sidebar-item" aria-label="【Q134】在项目中，如何平滑升级 npm 包"><!--[--><!--]--> 【Q134】在项目中，如何平滑升级 npm 包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/135.html" class="sidebar-item" aria-label="【Q135】请简述下 eslint 的作用"><!--[--><!--]--> 【Q135】请简述下 eslint 的作用 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/136.html" class="sidebar-item" aria-label="【Q136】如何修复某个 npm 包的紧急 bug"><!--[--><!--]--> 【Q136】如何修复某个 npm 包的紧急 bug <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/137.html" class="sidebar-item" aria-label="【Q137】使用 webpack 打包时，如何更好地利用 long term cache"><!--[--><!--]--> 【Q137】使用 webpack 打包时，如何更好地利用 long term cache <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/138.html" class="sidebar-item" aria-label="【Q138】前端如何进行高效的分包"><!--[--><!--]--> 【Q138】前端如何进行高效的分包 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/139.html" class="sidebar-item" aria-label="【Q139】如何使用 docker 部署前端"><!--[--><!--]--> 【Q139】如何使用 docker 部署前端 <!--[--><!--]--></a><!----></li><li><a href="/fe/工程化/140.html" class="sidebar-item" aria-label="【Q140】前端如何对分支环境进行部署"><!--[--><!--]--> 【Q140】前端如何对分支环境进行部署 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">算法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/fe/算法/141.html" class="sidebar-item" aria-label="【Q141】阿里云笔试"><!--[--><!--]--> 【Q141】阿里云笔试 <!--[--><!--]--></a><!----></li><li><a href="/fe/算法/142.html" class="sidebar-item" aria-label="【Q142】CVTE笔试"><!--[--><!--]--> 【Q142】CVTE笔试 <!--[--><!--]--></a><!----></li><li><a href="/fe/算法/143.html" class="sidebar-item" aria-label="【Q143】阿里笔试"><!--[--><!--]--> 【Q143】阿里笔试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="【q100】有了解过现在流行的-bundleless-构建工具吗" tabindex="-1"><a class="header-anchor" href="#【q100】有了解过现在流行的-bundleless-构建工具吗" aria-hidden="true">#</a> 【Q100】有了解过现在流行的 bundleless 构建工具吗？</h1><div class="custom-container tip"><p class="custom-container-title">Issue</p><p>欢迎在 Gtihub Issue 中回答此问题: <a href="https://github.com/kangyana/daily-question/issues/100" target="_blank" rel="noopener noreferrer">Issue 100<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_1-bundle-less" tabindex="-1"><a class="header-anchor" href="#_1-bundle-less" aria-hidden="true">#</a> 1. bundle-less</h2><p>随着项目的规模发展，webpack 的构建速度越来越慢。</p><ul><li>项目冷启动时必须递归打包整个项目的依赖树，</li><li>Nodejs 语言本身(解释执行、单线程执行)的限制，导致构建性能遇到瓶颈。</li></ul><p>因此，<code>Bundleless</code> 构建工具应运而生，诸如 <code>Snowpack</code>、<code>Vite</code>。</p><p>和 Webpack 这种传统的打包工具相比，Vite 主要有两大主要优势:</p><ul><li>利用浏览器内置 ES Module 的支持。 (script 标签加上属性 type=&quot;module&quot; 即可)，浏览器直接向 dev server 逐个请求各个模块，而不需要提前把所有文件打包。</li><li>借助 esbuild 超快的编译速度把第三方库进行 <strong>预构建</strong>。 一方面将零散的文件打到一起，减少网络请求，另一方面全面转换为 ESM 模块语法，以适配浏览器内置的 ESM 支持。</li></ul><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_2-bundle-less-做了什么" tabindex="-1"><a class="header-anchor" href="#_2-bundle-less-做了什么" aria-hidden="true">#</a> 2. bundle-less 做了什么？</h2><ul><li><strong>拆包</strong>。 弱化传统意义上的打包概念，由单 bundle 拆分为数十或者上百个 bundle，这样可以更好地利用 HTTP2 的多路复用优势和提升缓存命中率。</li><li><strong>对源代码不进行打包</strong>。 在开发阶段可以省略 bundle 的开销，如 Vite、Snowpack、WMR。</li><li><strong>依赖产物的模块化分发</strong>。 对于庞大的外部依赖，一方面打包成本比较高，另一方面文件数量可能非常多，打包几乎是一个必选项，甚至需要多个 NPM 包合并打包。 因此，针对依赖的打包也是非常重要的优化点，一般可以通过预打包 + 模块化缓存来进行优化， 目前也有一些优化案例，如 Vite 中基于 Esbuild 的预打包器、基于 ESM 的 CDN 服务，如 Skypack、esm.sh、jspm 等。</li></ul><h2 id="_3-拆多少包更合适" tabindex="-1"><a class="header-anchor" href="#_3-拆多少包更合适" aria-hidden="true">#</a> 3. 拆多少包更合适？</h2><p>打的包太多或者太少都可能出现加载性能的问题。 比如过多的嵌套 <code>import</code> 导致网络瀑布流的产生、bundle 太少不能充分利用 HTTP2 下并发请求的优势。</p><p>针对这个问题，我们曾做过一系列的性能测试，最后得出的结论如下：</p><ul><li>对于总产物资源大小相同的情况，资源加载分成的 chunk 数量在 10 - 25 之间进行并行加载性能最佳。</li><li>一次资源加载需要的依赖引用深度尽量等于 1 时加载性能最好。</li><li>由于不打包的情况下项目的请求数量和请求深度问题都不可控，因此不适合在生产构建中采用 no-bundle 方案。</li></ul><h2 id="_4-no-bundle-服务" tabindex="-1"><a class="header-anchor" href="#_4-no-bundle-服务" aria-hidden="true">#</a> 4. no-bundle 服务</h2><h3 id="代表方案-vite" tabindex="-1"><a class="header-anchor" href="#代表方案-vite" aria-hidden="true">#</a> 代表方案 Vite</h3><p>在开发环境中，Vite 主要做了两件事情:</p><ul><li>基于 esbuild 打包外部依赖。</li><li>创建 HTTP Server 以响应浏览器中 <code>&lt;script type=&quot;module&quot;&gt;</code> 所发起的一系列模块请求。</li></ul><p>而生产环境下直接使用 <code>Rollup</code> 进行打包。 Vite 整体的优势是在于开发阶段，服务启动快、热更新快，明显地优化了开发者体验。</p><h3 id="劣势及解决方案" tabindex="-1"><a class="header-anchor" href="#劣势及解决方案" aria-hidden="true">#</a> 劣势及解决方案</h3><p>no-bundle 方案虽然省去了 bundle 的开销，但仍然需要进行单文件的编译(如 TS、JSX、Less、Sass)，编译的时长仍然可能会比较长(某些业务项目编译要 20 s 左右)。 Vite 在二次请求时会采用 Etag 标识返回协商缓存的内容，可以跳过编译消耗的时间，但服务重启后仍然需要进行全量的编译，体验不太好。 对此，一个比较好的解决方法是在服务退出时将 ModuleGraph 的内容缓存到本地，然后重启的时候激活缓存(hydrate)，那么二次启动时仍然会使用协商缓存，达到比较快的首屏加载效果。</p><h3 id="海量请求的加载性能问题" tabindex="-1"><a class="header-anchor" href="#海量请求的加载性能问题" aria-hidden="true">#</a> 海量请求的加载性能问题</h3><p>请求数量达到一定量级(1000 +)的时候，no-bundle 服务都会遇到加载性能问题，对 Vite 而言，尽管二次请求会使用协商缓存，但实际上请求仍然会发送，在开发环境中(一般的业务项目会使用代理进行本地开发)表现仍然不容乐观，以之前接入 Vite 的某个业务项目为例:</p><table><thead><tr><th></th><th>项目第一次构建</th><th>页面加载时间</th><th>热更新</th></tr></thead><tbody><tr><td>webpack</td><td>80 s 构建</td><td>3~4 s</td><td>5 s</td></tr><tr><td>vite</td><td>10 s 构建</td><td>10 s</td><td>1 s</td></tr><tr><td>时间缩短</td><td>50%</td><td>-50%</td><td>80% 以上</td></tr></tbody></table><p>经过一系列的尝试，最后发现 Service Worker 缓存可以很好地解决这一类问题，思路如下：</p><p><img src="http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/346860e2f8af40c998a754d89516ae1b~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Alt"></p><p>简单来说就是把 Vite 的编译结果缓存到 Service Worker，并对于 HMR 的模块及其依赖模块禁用缓存，保证模块的编译结果永远是最新的。 优化之后页面加载时间由 10s 降低到了 5 s 以内，可以追的上 webpack 的速度。</p><h3 id="vite-独有-开发-生产表现不一致" tabindex="-1"><a class="header-anchor" href="#vite-独有-开发-生产表现不一致" aria-hidden="true">#</a> (Vite 独有)开发/生产表现不一致</h3><p>有不少人会吐槽 Vite 开发/生产环境的不一致性，因为开发环境使用 Esbuild + Dev Server 架构，而生产环境直接用 Rollup。 但由于生产环境的构建场景和开发阶段存在天然差异，开发和生产表现一致是不现实的。 所以问题的核心在于保证生产环境构建的稳定性。</p><p>而影响生产构建稳定性最主要的部分在于依赖的处理上，进一步说是对于 CommonJS 格式的依赖处理上面， 开发环境使用 esbuild 而生产环境下使用 <code>@rollup/plugin-commonjs</code>，就容易导致生产构建出现一些奇怪的问题， 如 <code>@rollup/plugin-commonjs</code> ignoreTryCatch行为 try-catch 代码块中的 require 语法转换， 这样对于某些依赖(如 jspdf-autotable)就会出现问题，而开发阶段使用 Esbuild 就不会出现。</p><p>解决这类问题有两种方案:</p><ul><li>生产环境也使用 esbuild 来进行依赖的打包，确保 CommonJS 的处理规则和开发阶段一致。 该 feature 已经实现，将在 Vite 3.0 发布。</li><li>开发和生产阶段使用 ESM CDN 方案，用同一套依赖产物。</li></ul><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="_5-依赖产物的模块化分发" tabindex="-1"><a class="header-anchor" href="#_5-依赖产物的模块化分发" aria-hidden="true">#</a> 5. 依赖产物的模块化分发</h2><p>对于第三方依赖，我们可以将其进行预构建，然后将产物进行分发，这样所有的依赖可以被 external 掉了，可以很大程度上降低项目 bundle 的开销。</p><p>总体而言，这类方案有几大关键要素：</p><ul><li>预构建产物。</li><li>模块化方案。</li><li>产物分发机制。</li></ul><p>接下来我们可以对照现有的案例来分析。</p><h3 id="现有方案概览" tabindex="-1"><a class="header-anchor" href="#现有方案概览" aria-hidden="true">#</a> 现有方案概览</h3><p>首先是 Vite 的依赖预构建方案，使用 esbuild 对第三方依赖进行打包， 基于浏览器原生 ESM 特性来加载第三方包的产物，同时将产物存储在本地，可以通过 Dev Server 访问产物资源。</p><p>其次包括开源社区的一些 ESM CDN 方案，如 Skypack、esm.sh。 前者服务并未开源，后者使用 esbuild 进行模块打包或者单文件转译。 这类方案也是依赖于浏览器原生 ESM 特性实现产物加载，通过第三方的 CDN 来进行产物分发，如通过 <code>https://esm.sh/react@18.0.2</code> 即可访问到对应的 react 包产物。</p><h3 id="问题分析" tabindex="-1"><a class="header-anchor" href="#问题分析" aria-hidden="true">#</a> 问题分析</h3><p>当然，现有的依赖 Bundleless 方案并不能很好地运用到业务项目中，尤其是生产环境，因为以下的几个关键问题没有得到根本的解决：</p><ul><li>产物语法和 Polyfill 安全问题。</li><li>产物线上加载性能问题。</li><li>模块化加载方案的兼容性问题。</li><li>产物本地化调试问题。</li></ul><h4 id="产物语法和-polyfill-安全问题" tabindex="-1"><a class="header-anchor" href="#产物语法和-polyfill-安全问题" aria-hidden="true">#</a> 产物语法和 Polyfill 安全问题</h4><p>无论是 Vite 预构建还是社区开源的 Skypack 和 esm.sh 等 ESM CDN 方案，都不支持 ES3/ES5 语法降级，也没有基于 browserlist 的 polyfill 方案， 这样一来就很无法兼容旧版本浏览器，如大部分需要支持 Android 4.4 / iOS 9 机型的业务就无法使用这些方案。</p><h4 id="产物的性能问题" tabindex="-1"><a class="header-anchor" href="#产物的性能问题" aria-hidden="true">#</a> 产物的性能问题</h4><p>Vite 会把项目中所有的依赖(包括 lodash/add 这种 subpath)各自打包为一个 bundle 文件，在大型项目中依赖产物的数量仍然很大(100 +)。 根据之前 Bundleless 性能测试的结果，巨大的文件请求数量显然会带来页面加载的性能问题。</p><p>而对于开源的 ESM CDN 方案，一般有两种构建模式，分别的 bundle 模式和非 bundle 模式。 在非 bundle 模式下会存在严重的网络瀑布流问题，而 bundle 模式下会把所有的间接依赖都打包进去，容易造成某些公共依赖重复打包的问题，使产物性能变差。 同时，这些 ESM CDN 方案都不支持产物的 Tree Shaking，对于任何包都只能全量引入依赖产物，无法做到按需加载。</p><h4 id="模块化方案的兼容性问题" tabindex="-1"><a class="header-anchor" href="#模块化方案的兼容性问题" aria-hidden="true">#</a> 模块化方案的兼容性问题</h4><p>如果在生产环境也使用 ESM 格式的产物，那么很可能会产生兼容性问题，目前浏览器对于原生 ESM 的兼容性如下图：</p><p><img src="http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8aae22d5cd1c4d47adbfa7411b9f3e03~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Alt"></p><p>对于需要兼容 IE11 或者低版本移动端机型的项目，现有的 ESM CDN 方案就无法使用了。</p><h4 id="产物本地化调试问题" tabindex="-1"><a class="header-anchor" href="#产物本地化调试问题" aria-hidden="true">#</a> 产物本地化调试问题</h4><p>Vite 的预构建产物可以在本地使用，通过 Dev Server 分发，但也有一定的弊端：</p><ul><li>如果要调试产物，则需要开发者手动清除浏览器缓存。</li><li>产物仅存在本地，团队成员之间无法共享产物。</li></ul><p>而现有的 ESM CDN 产物本地化方面也显得捉襟见肘：</p><ul><li>本地开发只能使用第三方 CDN，调试产物会比较困难。</li><li>项目线上部署时也只能使用第三方 CDN 的资源，无法做到私有化部署。</li></ul><div class="custom-container tip"><p class="custom-container-title">Author</p><p>回答者: <a href="https://github.com/kangyana" target="_blank" rel="noopener noreferrer">kangyana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><ol start="6"><li><h3 id="依赖产物的模块化分发-的解决方案" tabindex="-1"><a class="header-anchor" href="#依赖产物的模块化分发-的解决方案" aria-hidden="true">#</a> 依赖产物的模块化分发 的解决方案</h3></li></ol><p>面对如上的核心问题，我们可以逐个展开思考，各个击破，解决思路分别如下:</p><ul><li><strong>对于产物语法和 Polyfill 安全问题</strong>。 在预构建阶段，可通过 babel/swc 编译出特定 target (视项目情况而定)下的安全产物。</li><li><strong>对于产物线上加载性能问题</strong>。 我们需要完成一套项目依赖分析工具，对项目的模块依赖图进行分析，将项目使用到的依赖进行合并(combo)打包，使最后依赖的产物 chunk 数量保持在性能最佳的范围之内。</li><li><strong>对于模块化加载方案的兼容性问题</strong>。 我们可以在无需兼容旧版本浏览器的项目使用原生 ESM 特性，否则降级为 SystemJS 加载方案。</li><li><strong>对于产物本地化调试和部署问题</strong>。 我们一方面需要维护一份第三方 CDN 服务，类似 Skypack、esm.sh，另一方面需要支持将 CDN 产物下载至本地，并通过特定的模块化加载方案来加载这些本地的产物。</li></ul><p>根据如上的业界方案问题分析与解决思路，我们自研了一套依赖 Bundleless 的方案，整体架构如下:</p><p><img src="http://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/00ad359bd1534b8fb8d3327e4ff9e020~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Alt"></p><h3 id="基于-import-map" tabindex="-1"><a class="header-anchor" href="#基于-import-map" aria-hidden="true">#</a> 基于 Import Map</h3><p>在现有的社区方案中，一般用路径重写的方式来管理 CDN 依赖的路径，比如：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token comment">// 改写为</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;/-/v70/react@v17.0.1&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这么做导致一些问题：</p><ul><li><strong>多实例问题</strong>。 在产物代码中将路径写死，这样对于 peerDependencies 不太友好， 比如某个组件库的 React 引用路径被改写为/v1/react@16.14，而项目依赖的 React 版本为 17.0.2，那么就会产生 React 多实例问题。</li><li><strong>缓存命中率比较低</strong>。 如果 A 依赖 B，B 的代码发生变化，那么 A 里面对应的 import 代码也发生变化，A 的缓存也会失效。</li></ul><p>我们希望用一个集中的空间来管理依赖关系，并避免多实例的问题，而 Import Map 就可以解决这些问题。接入原理如下：</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>importmap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token punctuation">{</span>
<span class="token string-property property">&quot;imports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 保证单实例</span>
    <span class="token string-property property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://tosv.byted.org/obj/eden-internal/ulkl_lm_zlp/ljhwZthlaukjlkulzlp/npm_cdn/dev/react/17.0.2/0636c3a4.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://tosv.byted.org/obj/eden-internal/ulkl_lm_zlp/ljhwZthlaukjlkulzlp/npm_cdn/dev/lodash/4.17.21/8ba9d138.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#39;react-dom&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="模块合并" tabindex="-1"><a class="header-anchor" href="#模块合并" aria-hidden="true">#</a> 模块合并</h3><p>首先基于 esbuild 将项目进行预打包(性能考虑)，需要开启 metafile 配置，在 onEnd 钩子或者 build API 的返回值中可以获取构建元信息，即 meta 对象，由 inputs 字段可以解析出模块依赖图。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// meta 对象</span>
<span class="token punctuation">{</span>  
  <span class="token string-property property">&quot;inputs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 当前模块路径</span>
    <span class="token string-property property">&quot;../node_modules/.pnpm/object-assign@4.1.1/node_modules/object-assign/index.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 模块大小</span>
      <span class="token string-property property">&quot;bytes&quot;</span><span class="token operator">:</span> <span class="token number">2108</span><span class="token punctuation">,</span>
      <span class="token comment">// 依赖模块数组</span>
      <span class="token string-property property">&quot;imports&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;../node_modules/.pnpm/react@17.0.2/node_modules/react/cjs/react.development.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;bytes&quot;</span><span class="token operator">:</span> <span class="token number">72141</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;imports&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;../node_modules/.pnpm/object-assign@4.1.1/node_modules/object-assign/index.js&quot;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;kind&quot;</span><span class="token operator">:</span> <span class="token string">&quot;require-call&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>根据当前的模块依赖图信息，我们可以将项目中用到的依赖进行分组，通过特定的依赖分组算法产出一些依赖组的信息。</p><h3 id="多包-combo-模式打包" tabindex="-1"><a class="header-anchor" href="#多包-combo-模式打包" aria-hidden="true">#</a> 多包(combo)模式打包</h3><p>Combo 模式打包即把多个依赖包打包到一起，主要会产生如下的问题：</p><ul><li>多包出现导出名称冲突。</li><li>Subpath 问题大量出现的问题。</li></ul><p>解决方案：</p><h4 id="不同包的导出名冲突问题" tabindex="-1"><a class="header-anchor" href="#不同包的导出名冲突问题" aria-hidden="true">#</a> 不同包的导出名冲突问题</h4><p>首先需要解决命名导出的问题，整体由两部分构成。 在构建时阶段注入一些带有包名前缀的 specifier，运行时根据包名取出这些 specifier，从根本上解决导出名冲突问题。</p><ol><li>构建时注水 在构建之前需要探测 NPM 包所有的导出，包含以下的情况：</li></ol><ul><li>ESM <ul><li><code>Named/Default export</code>，通过 <code>es-module-lexer</code> 扫描。</li><li><code>export * from &#39;xxx&#39;</code>，通过 esbuild 预打包，开启 metafile 模式，在 metafile 中获取所有的 export 名。</li></ul></li><li>CJS <ul><li>尝试通过直接 require 拿到所有的导出名。</li><li>若 require 失败，降级到 AST 解析，分析所有的导出名。</li></ul></li></ul><p>在拿到所有导出名的基础之上，构建虚拟模块，交由 bundler 进行打包，格式如下：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> 包名_导出字段名 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;包名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>也就是在 NPM 包每个导出名前面加上 <code>包名_</code>，完成注水过程，以防止重名。</p><ol start="2"><li>运行时脱水 (Hydrate) 如上 <code>包名_导出字段名</code> 的这种导出在业务中是直接使用的，我们需要在模块系统中进行运行时拦截(脱水过程)，把真正的导出字段名取出。</li></ol><p>如以下的导入：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 在以 esm 的方式对依赖进行 external 后，webpack 产物中的引入代码</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> __WEBPACK_EXTERNAL_MODULE_react_router_ <span class="token keyword">from</span> <span class="token string">&#39;react-reouter&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>我们将会改写成以下的代码：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. 换成临时变量</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> __WEBPACK_EXTERNAL_MODULE_react_router_$0 <span class="token keyword">from</span> <span class="token string">&quot;react-router&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 2. 对原来的变量重新赋值，通过 __EDEN_COMBO_HYDRATE__ 工具函数将导出名去掉包名前缀</span>
<span class="token comment">// 如 react_router_Router =&gt; Router</span>
<span class="token keyword">var</span> __WEBPACK_EXTERNAL_MODULE_react_router_ <span class="token operator">=</span> <span class="token function">__EDEN_COMBO_HYDRATE__</span><span class="token punctuation">(</span>
  __WEBPACK_EXTERNAL_MODULE_react_router_$0<span class="token punctuation">,</span>
  <span class="token string">&quot;react_router&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="大量-subpath-问题" tabindex="-1"><a class="header-anchor" href="#大量-subpath-问题" aria-hidden="true">#</a> 大量 subpath 问题</h4><p>做实际落地项目的过程中发现第三方包中使用大量的 subpath，如下图的依赖分组结果所示：</p><p><img src="http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd93e2ec0ec04cf2806c8b2413e706c7~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Alt"></p><p>这种情况下 import map 的体积会很大，因为每个 subpath 都会对应一个远程地址。 解决方案是进行 subpath 合并打包，如 <code>@babel/runtime/helper/esm/assertThisInitialized</code>、<code>@babel/runtime/helpers/esm/inheritsLoose</code>，原始产物中的引入代码如下:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> __WEBPACK_EXTERNAL_MODULE_babel_runtime_helers_esm_inheritsLoose <span class="token keyword">from</span> <span class="token string">&#39;@babel/runtime/helpers/esm/inheritsLoose&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> __WEBPACK_EXTERNAL_MODULE_babel_runtime_helers_esm_assertThisInitialized <span class="token keyword">from</span> <span class="token string">&#39;@babel/runtime/helpers/esm/assertThisInitialized&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这样对于 <code>@babel/runtime</code> 只留下一个 importmap 的 key-value 对，有效减少 import map 的体积。</p><h3 id="产物-tree-shaking" tabindex="-1"><a class="header-anchor" href="#产物-tree-shaking" aria-hidden="true">#</a> 产物 Tree Shaking</h3><p>在 esbuild 预打包阶段扫描源文件所用到的 specifier，然后构建对应的虚拟模块交给打包器进行打包：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> cloneDeep <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;lodash-es&#39;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> Spin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@douyinfe/semi-ui&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这样可以做到一定程度的 Tree Shaking。</p><h3 id="polyfill-安全" tabindex="-1"><a class="header-anchor" href="#polyfill-安全" aria-hidden="true">#</a> Polyfill 安全</h3><p>根据不同的 runtimeTarget 要求(Eden 默认自带以下前三种 runtimeTarget，包括 Modern、PCLegacy、MobileLegacy)和产物模块格式，注入不同的 Polyfill 内容：</p><ul><li><strong>现代浏览器</strong>：注入 import map 的 polyfill 即可</li><li><strong>PC 端老旧浏览器</strong>：<a href="https://browserslist.dev/?q=SUUgMTEsID4gMC41JSwgbm90IGRlYWQ%3D" target="_blank" rel="noopener noreferrer">PC 端默认 browserlist <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>下所有第三方包所需的 Polyfill + Systemjs 产物</li><li><strong>移动端老旧浏览器</strong>：<a href="https://browserslist.dev/?q=aU9TIDksIEFuZHJvaWQgNC40LCBsYXN0IDIgdmVyc2lvbnMsID4gMC4yJSwgbm90IGRlYWQ%3D" target="_blank" rel="noopener noreferrer">移动端默认 browserlist<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 下所有第三方包所需的 Polyfill + Systemjs 产物</li><li><strong>自定义 runtimeTarget 或模块格式</strong>：指定 browserlist 下所有第三方包所需的 Polyfill，如果是 Systemjs 格式，则加入 Systemjs 的 Polyfill</li></ul><p>Polyfill 内容在所有第三方包编译完成后进行累计去重，然后统一打包成一个 Chunk，通过 script 标签注入到页面中：</p><p><img src="http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4127b37a8089428781077669a337f48a~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Alt"></p><h3 id="产物本地化" tabindex="-1"><a class="header-anchor" href="#产物本地化" aria-hidden="true">#</a> 产物本地化</h3><p>依赖产物本地化有两个好处:</p><ul><li>可以在本地调试依赖的产物代码。</li><li>可以将依赖产物代码同业务代码一同部署(私有化部署)。</li></ul><p>具体的做法如下： 在使用编译服务将依赖包打包完成并上传 CDN 后，构建插件会重新请求 CDN 的资源，并将资源写入到本地磁盘中。</p><p><img src="http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e9b77852a8d4511a7b4baa0deea4eff~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Alt"></p><p>然后，构建插件通过在本地 Dev Server 加入中间件来对本地临时目录启用静态资源服务。 与此同时，插入到 HTML 中的 import map 的远程 CDN 产物被改写为本地静态资源服务的地址。 因此，最后项目中访问到的第三方包资源即为临时目录中的产物代码。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 564469630@qq.com">kangyana</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 564469630@qq.com">康颜</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/fe/webpack/99.html" class="" aria-label="【Q099】HMR 原理"><!--[--><!--]--> 【Q099】HMR 原理 <!--[--><!--]--></a></span><span class="next"><a href="/fe/webpack/101.html" class="" aria-label="【Q101】vite 原理"><!--[--><!--]--> 【Q101】vite 原理 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.2a439a8a.js" defer></script>
  </body>
</html>
